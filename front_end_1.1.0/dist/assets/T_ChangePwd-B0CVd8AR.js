import{T as h}from"./TeacherHeadBar-DnYuqNtp.js";import{_ as g,d as V,c as P,a as e,w as o,e as i,r as t,o as y,b as x}from"./index-56bR-A_b.js";import"./headerLogo-CGJBKw5C.js";const b={components:{TeacherHeadBar:h},data(){return{password:"",newPassword:"",confirmPassword:""}},methods:{confirm(){console.log(localStorage.getItem("uid")),this.confirmPassword==this.newPassword?V({method:"post",url:"manager/resetPwd",data:{uid:localStorage.getItem("uid"),old_pwd:this.password,new_pwd:this.newPassword}}).then(l=>{console.log(l),l.data.error_code==0&&(alert("修改成功！请重新登录"),this.$router.push("/studentLogin")),l.data.error_code==2&&alert("原密码错误！"),l.data.error_code==3&&alert("新密码格式错误！"),l.data.error_code==4&&alert("用户不存在！")}):alert("两次新密码输入不一致，请重新输入！")}}},B=i("div",{class:"title",style:{"margin-top":"80px"}},[i("h4",null,"修改密码")],-1),T={style:{margin:"0 auto","align-items":"center"}};function C(l,a,k,v,s,c){const _=t("TeacherHeadBar"),m=t("el-aside"),d=t("el-input"),r=t("el-form-item"),p=t("el-button"),u=t("el-form"),w=t("el-main"),f=t("el-container");return y(),P("div",null,[e(_),B,e(f,null,{default:o(()=>[e(m,{width:"20%",style:{"min-height":"600px"}}),e(w,{width:"75%"},{default:o(()=>[i("div",T,[e(u,{"label-width":"80px"},{default:o(()=>[e(r,{label:"现密码",style:{width:"80%"}},{default:o(()=>[e(d,{type:"password",modelValue:s.password,"onUpdate:modelValue":a[0]||(a[0]=n=>s.password=n)},null,8,["modelValue"])]),_:1}),e(r,{label:"新密码",style:{width:"80%"}},{default:o(()=>[e(d,{type:"password",modelValue:s.newPassword,"onUpdate:modelValue":a[1]||(a[1]=n=>s.newPassword=n)},null,8,["modelValue"])]),_:1}),e(r,{label:"确认密码",style:{width:"80%"}},{default:o(()=>[e(d,{type:"password",modelValue:s.confirmPassword,"onUpdate:modelValue":a[2]||(a[2]=n=>s.confirmPassword=n)},null,8,["modelValue"])]),_:1}),e(r,{style:{width:"80%"}},{default:o(()=>[e(p,{onClick:c.confirm},{default:o(()=>[x("确认修改")]),_:1},8,["onClick"])]),_:1})]),_:1})])]),_:1}),e(m,{width:"5%"})]),_:1})])}const I=g(b,[["render",C]]);export{I as default};
