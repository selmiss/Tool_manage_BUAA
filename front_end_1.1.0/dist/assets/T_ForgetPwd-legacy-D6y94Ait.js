System.register(["./index-legacy-D4Q9cYOW.js"],(function(t,e){"use strict";var o,r,n,a,s,i,l,d,c,h,u,m,p,f;return{setters:[t=>{o=t._,r=t.a,n=t.c,a=t.b,s=t.n,i=t.e,l=t.w,d=t.v,c=t.f,h=t.t,u=t.d,m=t.o,p=t.p,f=t.g}],execute:function(){var e=document.createElement("style");e.textContent=".login-register[data-v-53540579]{width:100vw;height:100vh;box-sizing:border-box;background-image:url(/MainMenu.jpeg);background-size:1920px 980px}.contain[data-v-53540579]{width:60%;height:60%;position:relative;top:40%;left:50%;transform:translate(-50%,-50%);background-color:#fff;border-radius:20px;box-shadow:0 0 3px #f0f0f0,0 0 6px #f0f0f0}.big-box[data-v-53540579]{width:70%;height:120%;position:absolute;top:0;left:30%;transform:translate(0);transition:all 1s}.big-contain[data-v-53540579]{margin-top:8%;width:100%;height:100%;flex-direction:column;justify-content:center;align-items:center}.btitle[data-v-53540579]{font-size:1.5em;font-weight:700;color:#dd6f08}.bform[data-v-53540579]{width:100%;height:40%;padding:2em 0;display:flex;flex-direction:column;justify-content:space-around;align-items:center}.bform button[data-v-53540579]{width:20%;height:40px;align-items:center;border-radius:9px;border:1px solid rgb(207,186,141);outline:none;background-color:transparent;color:#d6560c;font-size:.9em;cursor:pointer}.bform .errTips[data-v-53540579]{display:block;width:50%;text-align:left;color:red;font-size:.7em;margin-left:1em}.bform input[data-v-53540579]{width:50%;height:30px;border:none;outline:none;border-radius:10px;padding-left:2em;background-color:#f0f0f0}.bbutton[data-v-53540579]{width:20%;height:40px;border-radius:24px;border:none;outline:none;background-color:#e4771e;color:#fff;font-size:.9em;cursor:pointer}.small-box[data-v-53540579]{width:30%;height:100%;background:linear-gradient(135deg,#eb9648,#d15706);position:absolute;top:0;left:0;transform:translate(0);transition:all 1s;border-top-left-radius:inherit;border-bottom-left-radius:inherit}.small-contain[data-v-53540579]{width:100%;height:100%;display:flex;flex-direction:column;justify-content:center;align-items:center}.stitle[data-v-53540579]{font-size:1.5em;font-weight:700;color:#fff}.scontent[data-v-53540579]{font-size:.8em;color:#fff;text-align:center;padding:2em 4em;line-height:1.7em}.sbutton[data-v-53540579]{width:60%;height:40px;border-radius:24px;border:1px solid #fff;outline:none;background-color:transparent;color:#fff;font-size:.9em;cursor:pointer}.big-box.active[data-v-53540579]{left:0;transition:all .5s}.small-box.active[data-v-53540579]{left:100%;border-top-left-radius:0;border-bottom-left-radius:0;border-top-right-radius:inherit;border-bottom-right-radius:inherit;transform:translate(-100%);transition:all 1s}.header[data-v-53540579]{height:50px;display:flex;color:#0ff}\n",document.head.appendChild(e);const g={name:"login-register",data:()=>({isLogin:!0,stateReg:!1,emailError:!1,passwordError:!1,existed:!1,form:{email:"",password:"",phone:"",code:""},show:!0,count:"",timer:null}),methods:{studentEntry(){this.$router.push("/studentLogin")},changeType(){this.isLogin=!this.isLogin,this.stateReg=!1,this.form.tid="",this.form.name="",this.form.email="",this.form.password=""},teacherEntry(){this.$router.push("/teacherLogin")},sendCode(){this.timer||(console.log("已发送"),r({method:"post",url:"user/forget/sendCode",data:{acc:this.form.phone}}).then((t=>{alert("验证码已发送，请查看手机消息。")})),this.count=60,this.show=!1,this.timer=setInterval((()=>{this.count>0&&this.count<=60?this.count--:(this.show=!0,clearInterval(this.timer),this.timer=null)}),1e3))},changeRegState(){""!=this.form.sid&&""!=this.form.name&&""!=this.form.college?this.stateReg=!this.stateReg:alert("填写不能为空！")},changePwd(){""!=this.form.phone&&""!=this.form.password&&r({method:"post",url:"http://8.130.48.144/forget/setPwd",data:{uid:this.userId,old_pwd:this.form.password,new_pwd:this.new_password}}).then((t=>{switch(t.error_code){case 0:alert("登录成功");break;case 1:alert("请求参数错误");break;case 2:alert("原密码错误");break;case 3:alert("新密码格式错误");break;case 4:alert("用户不存在")}}))},confirmChange(){""!=this.form.email&&""!=this.form.password?r({method:"post",url:"manager/forget/setPwd",data:{acc:this.form.email,phoneNumber:this.form.phone,pwd:this.form.password,key:this.form.code}}).then((t=>{console.log(t.data.error_code),0==t.data.error_code?(alert("重置密码成功！"),this.$router.push("/teacherLogin")):1==t.data.error_code?alert("存在输入为空！"):2==t.data.error_code?alert("该邮箱不存在！"):3==t.data.error_code?alert("密码错误！请重新输入。"):alert("验证码错误，请重新输入。")})):alert("填写不能为空")},register(){console.log(this.form.phone+" : "+this.form.tid),""!=this.form.password&&""!=this.form.email?this.form.password!=this.form.password2?alert("两次密码输入不一致。"):r({method:"post",url:"manager/RegisterTeacherAcc",data:{acc:this.form.email,teacherId:this.form.tid,name:this.form.name,pwd:this.form.password,key:this.form.code,phoneNumber:this.form.phone}}).then((t=>{console.log(t),0==t.data.error_code&&(alert("您的注册请求已提交！请等待管理员审核。"),this.$router.push("/teacherLogin"))})):alert("填写不能为空！")}}},b=t=>(p("data-v-53540579"),t=t(),f(),t),v={class:"login-register"},w=b((()=>a("div",{class:"header"},null,-1))),x={class:"contain"},y={key:0,class:"big-contain"},k=b((()=>a("div",{class:"btitle"},"忘记密码",-1))),C={class:"bform"},_={class:"count"},E=b((()=>a("br",null,null,-1))),L={class:"count"},z=b((()=>a("br",null,null,-1))),R=b((()=>a("br",null,null,-1))),T={class:"count"},U=b((()=>a("br",null,null,-1))),V={class:"count"},j=b((()=>a("br",null,null,-1))),I={style:{"align-items":"center","margin-top":"70px"}},S={key:1,class:"big-contain"},$={key:0},P=b((()=>a("div",{class:"btitle"},"教师注册",-1))),M=b((()=>a("br",null,null,-1))),N={class:"bform"},A=b((()=>a("br",null,null,-1))),q={key:0,class:"errTips"},B=b((()=>a("br",null,null,-1))),D=b((()=>a("br",null,null,-1))),F=b((()=>a("br",null,null,-1))),G={key:1},H={key:0,class:"small-contain"},J=b((()=>a("div",{class:"stitle"},[i("北航工程训练中心"),a("br"),i("工具信息平台")],-1))),K=b((()=>a("p",{class:"scontent"},[i("请输入您的邮箱"),a("br"),i("或管理员账号")],-1))),O=b((()=>a("br",null,null,-1))),Q={key:1,class:"small-contain"},W=b((()=>a("div",{class:"stitle"},"老师，您好！",-1))),X=b((()=>a("p",{class:"scontent"},[i("注册工训中心账号，"),a("br"),i("轻松管理设备借还。")],-1))),Y=b((()=>a("br",null,null,-1)));t("default",o(g,[["render",function(t,e,o,r,p,f){return m(),n("div",v,[w,a("div",x,[a("div",{class:s(["big-box",{active:p.isLogin}])},[p.isLogin?(m(),n("div",y,[k,a("div",C,[a("span",_,[i("邮箱          :  "),l(a("input",{type:"text",placeholder:"邮箱","onUpdate:modelValue":e[0]||(e[0]=t=>p.form.email=t)},null,512),[[d,p.form.email]])]),E,a("span",L,[i("手机号码    :  "),l(a("input",{type:"text",placeholder:"手机号码","onUpdate:modelValue":e[1]||(e[1]=t=>p.form.phone=t)},null,512),[[d,p.form.phone]])]),z,a("button",{onClick:e[2]||(e[2]=(...t)=>f.sendCode&&f.sendCode(...t))},[i("获取验证码"),l(a("span",{class:"count"},h(p.count)+" s",513),[[c,!p.show]])]),R,a("span",T,[i("验证码       :  "),l(a("input",{type:"code",placeholder:"验证码","onUpdate:modelValue":e[3]||(e[3]=t=>p.form.code=t)},null,512),[[d,p.form.code]])]),U,a("span",V,[i("设置新密码:  "),l(a("input",{type:"password",placeholder:"设置新密码","onUpdate:modelValue":e[4]||(e[4]=t=>p.form.password=t)},null,512),[[d,p.form.password]])]),j]),a("div",I,[a("button",{class:"bbutton",onClick:e[5]||(e[5]=(...t)=>f.confirmChange&&f.confirmChange(...t))},"确认修改"),i("   "),a("button",{onClick:e[6]||(e[6]=(...t)=>f.teacherEntry&&f.teacherEntry(...t))},"返回登录")])])):(m(),n("div",S,[p.stateReg?(m(),n("div",G)):(m(),n("div",$,[P,M,a("div",N,[l(a("input",{type:"text",placeholder:"工号","onUpdate:modelValue":e[7]||(e[7]=t=>p.form.tid=t)},null,512),[[d,p.form.tid]]),A,p.existed?(m(),n("span",q,"* 该工号已经注册！ *")):u("",!0),l(a("input",{type:"text",placeholder:"姓名","onUpdate:modelValue":e[8]||(e[8]=t=>p.form.name=t)},null,512),[[d,p.form.name]]),B,l(a("input",{type:"text",placeholder:"邮箱","onUpdate:modelValue":e[9]||(e[9]=t=>p.form.email=t)},null,512),[[d,p.form.email]]),D]),F,a("button",{class:"bbutton",onClick:e[10]||(e[10]=(...t)=>f.changeRegState&&f.changeRegState(...t))},"下一步")]))]))],2),a("div",{class:s(["small-box",{active:p.isLogin}])},[p.isLogin?(m(),n("div",H,[J,K,a("button",{class:"sbutton",onClick:e[11]||(e[11]=(...t)=>f.changeType&&f.changeType(...t))},"前往注册"),O,a("button",{class:"sbutton",onClick:e[12]||(e[12]=(...t)=>f.studentEntry&&f.studentEntry(...t))},"学生入口")])):(m(),n("div",Q,[W,X,a("button",{class:"sbutton",onClick:e[13]||(e[13]=(...t)=>f.changeType&&f.changeType(...t))},"前往登录"),Y,a("button",{class:"sbutton",onClick:e[14]||(e[14]=(...t)=>f.studentEntry&&f.studentEntry(...t))},"学生入口")]))],2)])])}],["__scopeId","data-v-53540579"]]))}}}));
