System.register(["./index-legacy-D4Q9cYOW.js"],(function(e,t){"use strict";var o,r,a,n,l,s,i,d,c,u,h,m,f,p;return{setters:[e=>{o=e._,r=e.a,a=e.c,n=e.b,l=e.n,s=e.e,i=e.w,d=e.v,c=e.f,u=e.t,h=e.d,m=e.o,f=e.p,p=e.g}],execute:function(){var t=document.createElement("style");t.textContent=".login-register[data-v-7e9f75e9]{width:100vw;height:100vh;box-sizing:border-box;background-image:url(/MainMenu.jpeg);background-size:1920px 980px}.contain[data-v-7e9f75e9]{width:60%;height:60%;position:relative;top:47%;left:50%;transform:translate(-50%,-50%);background-color:#fff;border-radius:20px;box-shadow:0 0 3px #f0f0f0,0 0 6px #f0f0f0}.big-box[data-v-7e9f75e9]{width:70%;height:120%;position:absolute;top:0;left:30%;transform:translate(0);transition:all 1s}.big-contain[data-v-7e9f75e9]{margin-top:10%;width:100%;height:100%;flex-direction:column;justify-content:center;align-items:center}.btitle[data-v-7e9f75e9]{font-size:1.5em;font-weight:700;color:#2c68eb}.bform[data-v-7e9f75e9]{width:100%;height:40%;padding:2em 0;display:flex;flex-direction:column;justify-content:space-around;align-items:center}.bform button[data-v-7e9f75e9]{width:20%;height:32px;align-items:center;border-radius:9px;border:1px solid rgb(141,156,207);outline:none;background-color:transparent;color:#2d68d4;font-size:.9em;cursor:pointer}.bform .errTips[data-v-7e9f75e9]{display:block;width:50%;text-align:left;color:red;font-size:.7em;margin-left:1em}.bform input[data-v-7e9f75e9]{width:50%;height:30px;border:none;outline:none;border-radius:10px;padding-left:2em;background-color:#f0f0f0}.bbutton[data-v-7e9f75e9]{width:20%;height:40px;border-radius:24px;border:none;outline:none;background-color:#2e78e7;color:#fff;font-size:.9em;cursor:pointer}.small-box[data-v-7e9f75e9]{width:30%;height:100%;background:linear-gradient(135deg,#6da6f1,#2d56dd);position:absolute;top:0;left:0;transform:translate(0);transition:all 1s;border-top-left-radius:inherit;border-bottom-left-radius:inherit}.small-contain[data-v-7e9f75e9]{width:100%;height:100%;display:flex;flex-direction:column;justify-content:center;align-items:center}.stitle[data-v-7e9f75e9]{font-size:1.5em;font-weight:700;color:#fff}.scontent[data-v-7e9f75e9]{font-size:.8em;color:#fff;text-align:center;padding:2em 4em;line-height:1.7em}.sbutton[data-v-7e9f75e9]{width:60%;height:40px;border-radius:24px;border:1px solid #fff;outline:none;background-color:transparent;color:#fff;font-size:.9em;cursor:pointer}.big-box.active[data-v-7e9f75e9]{left:0;transition:all .5s}.small-box.active[data-v-7e9f75e9]{left:100%;border-top-left-radius:0;border-bottom-left-radius:0;border-top-right-radius:inherit;border-bottom-right-radius:inherit;transform:translate(-100%);transition:all 1s}\n",document.head.appendChild(t);const g={name:"login-register",data:()=>({isLogin:!0,stateReg:!1,emailError:!1,passwordError:!1,existed:!1,form:{email:"",phone:"",password:"",code:""},show:!0,count:"",timer:null}),methods:{sendCode(){this.timer||(console.log("已发送"),r({method:"post",url:"user/forget/sendCode",data:{acc:this.form.phone}}).then((e=>{console.log(e.data),alert("验证码已发送，请在手机信息中查看。")})),this.count=60,this.show=!1,this.timer=setInterval((()=>{this.count>0&&this.count<=60?this.count--:(this.show=!0,clearInterval(this.timer),this.timer=null)}),1e3))},studentEntry(){this.$router.push("/studentLogin")},confirmChange(){""!=this.form.phone&&""!=this.form.password?r({method:"post",url:"user/forget/setPwd",data:{acc:this.form.email,phoneNumber:this.form.phone,pwd:this.form.password,key:this.form.code}}).then((e=>{console.log(e.data.error_code),0==e.data.error_code?(alert("重置密码成功！"),this.$router.push("/studentLogin")):1==e.data.error_code?alert("存在输入为空！"):2==e.data.error_code?alert("该邮箱不存在！"):3==e.data.error_code?alert("密码错误或格式不规范！请重新输入。"):alert("验证码错误，请重新输入。")})):alert("填写不能为空")},studentForgetPwd(){this.$router.push("/studentForgetPwd")},changeType(){this.isLogin=!this.isLogin,this.stateReg=!1,this.form.sid="",this.form.name="",this.form.college="",this.form.email="",this.form.password=""},teacherEntry(){this.$router.push("/teacherLogin")},changeRegState(){""!=this.form.sid&&""!=this.form.name&&""!=this.form.college?this.stateReg=!this.stateReg:alert("填写不能为空！")},login(){console.log(this.form.email+" : "+this.form.password),""!=this.form.email&&""!=this.form.password?r({method:"post",url:"user/login",data:{acc:this.form.email,pwd:this.form.password}}).then((e=>{0==e.data.error_code?(localStorage.setItem("uid",e.data.uid),localStorage.setItem("Mail",this.form.email),alert("登录成功！"),this.$router.push("/borrowRecord")):1==e.data.error_code?alert("输入有误！请重新登录。"):2==e.data.error_code?alert("请先进行注册！"):3==e.data.error_code&&alert("密码错误或格式不正确！请重新输入")})).catch((e=>{console.log(e)})):alert("填写不能为空！")},register(){console.log(this.form.email+" : "+this.form.password),""!=this.form.password&&""!=this.form.email?r({method:"post",url:"user/register",data:{studentId:this.form.sid,name:this.form.name,college:this.form.college,acc:this.form.email,pwd:this.form.password,key:this.form.code,phoneNumber:this.form.phone}}).then((e=>{console.log(e.data.error_code),0==e.data.error_code?this.changeType():1==e.data.error_code?alert("输入有误，请重新输入。"):2==e.data.error_code?alert("该邮箱已注册。"):3==e.data.error_code?alert("请输入正确验证码"):4==e.data.error_code&&alert("验证码错误，请重新输入!")})).catch((e=>{console.log(e)})):alert("填写不能为空！")}}},b=e=>(f("data-v-7e9f75e9"),e=e(),p(),e),v={class:"login-register"},w={class:"contain"},y={key:0,class:"big-contain"},x=b((()=>n("div",{class:"btitle"},"忘记密码",-1))),k={class:"bform"},C={class:"count"},_=b((()=>n("br",null,null,-1))),E={class:"count"},R=b((()=>n("br",null,null,-1))),U=b((()=>n("br",null,null,-1))),V={class:"count"},L=b((()=>n("br",null,null,-1))),z={class:"count"},S=b((()=>n("br",null,null,-1))),T={style:{"margin-top":"70px"}},I={key:1,class:"big-contain"},j={key:0},$=b((()=>n("div",{class:"btitle"},"学生注册",-1))),M={class:"bform"},P=b((()=>n("br",null,null,-1))),F={key:0,class:"errTips"},N=b((()=>n("br",null,null,-1))),q=b((()=>n("br",null,null,-1))),A=b((()=>n("br",null,null,-1))),B={key:1},D={class:"btitle"},G={class:"bform"},H=b((()=>n("br",null,null,-1))),J=b((()=>n("br",null,null,-1))),K={key:0,class:"small-contain"},O=b((()=>n("div",{class:"stitle"},[s("北航工程训练中心"),n("br"),s("工具信息平台")],-1))),Q=b((()=>n("p",{class:"scontent"},"尚无账号？点击下方按钮进行注册。",-1))),W=b((()=>n("br",null,null,-1))),X={key:1,class:"small-contain"},Y=b((()=>n("div",{class:"stitle"},"学生，您好！",-1))),Z=b((()=>n("p",{class:"scontent"},[s("注册工训中心账号，"),n("br"),s("轻松进行设备借还。")],-1))),ee=b((()=>n("br",null,null,-1)));e("default",o(g,[["render",function(e,t,o,r,f,p){return m(),a("div",v,[n("div",w,[n("div",{class:l(["big-box",{active:f.isLogin}])},[f.isLogin?(m(),a("div",y,[x,n("div",k,[n("span",C,[s("邮箱          :  "),i(n("input",{type:"text",placeholder:"邮箱","onUpdate:modelValue":t[0]||(t[0]=e=>f.form.email=e)},null,512),[[d,f.form.email]])]),_,n("span",E,[s("手机号码    :  "),i(n("input",{type:"text",placeholder:"手机号码","onUpdate:modelValue":t[1]||(t[1]=e=>f.form.phone=e)},null,512),[[d,f.form.phone]])]),R,n("button",{onClick:t[2]||(t[2]=(...e)=>p.sendCode&&p.sendCode(...e))},[s("获取验证码"),i(n("span",{class:"count"},u(f.count)+" s",513),[[c,!f.show]])]),U,n("span",V,[s("验证码       :  "),i(n("input",{type:"code",placeholder:"验证码","onUpdate:modelValue":t[3]||(t[3]=e=>f.form.code=e)},null,512),[[d,f.form.code]])]),L,n("span",z,[s("设置新密码:  "),i(n("input",{type:"password",placeholder:"设置新密码","onUpdate:modelValue":t[4]||(t[4]=e=>f.form.password=e)},null,512),[[d,f.form.password]])]),S]),n("div",T,[n("button",{class:"bbutton",onClick:t[5]||(t[5]=(...e)=>p.confirmChange&&p.confirmChange(...e))},"确认修改"),s("   "),n("button",{onClick:t[6]||(t[6]=(...e)=>p.studentEntry&&p.studentEntry(...e))},"返回登录")])])):(m(),a("div",I,[f.stateReg?(m(),a("div",B,[n("div",D,"欢迎！"+u(this.form.name),1),n("div",G,[i(n("input",{type:"text",placeholder:"手机号码","onUpdate:modelValue":t[12]||(t[12]=e=>f.form.phone=e)},null,512),[[d,f.form.phone]]),H,i(n("input",{type:"password",placeholder:"密码","onUpdate:modelValue":t[13]||(t[13]=e=>f.form.password=e)},null,512),[[d,f.form.password]]),J,i(n("input",{type:"password",placeholder:"确认密码","onUpdate:modelValue":t[14]||(t[14]=e=>f.form.password2=e)},null,512),[[d,f.form.password2]])]),n("button",{class:"bbutton",onClick:t[15]||(t[15]=(...e)=>p.changeRegState&&p.changeRegState(...e))},"上一步"),s("  "),n("button",{class:"bbutton",onClick:t[16]||(t[16]=(...e)=>p.register&&p.register(...e))},"注册")])):(m(),a("div",j,[$,n("div",M,[i(n("input",{type:"text",placeholder:"学号","onUpdate:modelValue":t[7]||(t[7]=e=>f.form.sid=e)},null,512),[[d,f.form.sid]]),P,f.existed?(m(),a("span",F,"* 该学号已经注册！ *")):h("",!0),i(n("input",{type:"text",placeholder:"姓名","onUpdate:modelValue":t[8]||(t[8]=e=>f.form.name=e)},null,512),[[d,f.form.name]]),N,i(n("input",{type:"text",placeholder:"学院","onUpdate:modelValue":t[9]||(t[9]=e=>f.form.college=e)},null,512),[[d,f.form.college]]),q,i(n("input",{type:"email",placeholder:"邮箱","onUpdate:modelValue":t[10]||(t[10]=e=>f.form.email=e)},null,512),[[d,f.form.email]]),A,s(" 请确认您的个人信息无误。 ")]),n("button",{class:"bbutton",onClick:t[11]||(t[11]=(...e)=>p.changeRegState&&p.changeRegState(...e))},"下一步")]))]))],2),n("div",{class:l(["small-box",{active:f.isLogin}])},[f.isLogin?(m(),a("div",K,[O,Q,n("button",{class:"sbutton",onClick:t[17]||(t[17]=(...e)=>p.changeType&&p.changeType(...e))},"前往注册"),W,n("button",{class:"sbutton",onClick:t[18]||(t[18]=(...e)=>p.teacherEntry&&p.teacherEntry(...e))},"教师入口")])):(m(),a("div",X,[Y,Z,n("button",{class:"sbutton",onClick:t[19]||(t[19]=(...e)=>p.changeType&&p.changeType(...e))},"前往登录"),ee,n("button",{class:"sbutton",onClick:t[20]||(t[20]=(...e)=>p.teacherEntry&&p.teacherEntry(...e))},"教师入口")]))],2)])])}],["__scopeId","data-v-7e9f75e9"]]))}}}));
