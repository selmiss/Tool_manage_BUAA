import{H as h}from"./HeadBar-DcpOYb3W.js";import{_ as V,a as P,r as o,c as b,h as e,i as t,b as i,o as x,e as g}from"./index-BiNYOpqX.js";import"./headerLogo-CGJBKw5C.js";const y={components:{HeadBar:h},data(){return{password:"",newPassword:"",confirmPassword:""}},methods:{confirm(){this.confirmPassword==this.newPassword?P({method:"post",url:"user/reSetPwd",data:{uid:localStorage.getItem("uid"),old_pwd:this.password,new_pwd:this.newPassword}}).then(l=>{console.log(l),l.data.error_code==0&&(alert("修改成功！请重新登录"),this.$router.push("/")),l.data.error_code==2&&alert("原密码错误！"),l.data.error_code==3&&alert("新密码格式错误！"),l.data.error_code==4&&alert("用户不存在！")}):alert("两次新密码输入不一致，请重新输入！")}}},C=i("div",{class:"title",style:{"margin-top":"80px"}},[i("h4",null,"修改密码")],-1),k={style:{margin:"0 auto","align-items":"center"}};function v(l,n,B,N,a,_){const c=o("head-bar"),m=o("el-aside"),d=o("el-input"),r=o("el-form-item"),u=o("el-button"),p=o("el-form"),w=o("el-main"),f=o("el-container");return x(),b("div",null,[e(c),C,e(f,null,{default:t(()=>[e(m,{width:"20%",style:{"min-height":"600px"}}),e(w,{width:"75%"},{default:t(()=>[i("div",k,[e(p,{"label-width":"80px"},{default:t(()=>[e(r,{label:"现密码",style:{width:"80%"}},{default:t(()=>[e(d,{modelValue:a.password,"onUpdate:modelValue":n[0]||(n[0]=s=>a.password=s)},null,8,["modelValue"])]),_:1}),e(r,{label:"新密码",style:{width:"80%"}},{default:t(()=>[e(d,{modelValue:a.newPassword,"onUpdate:modelValue":n[1]||(n[1]=s=>a.newPassword=s)},null,8,["modelValue"])]),_:1}),e(r,{label:"确认密码",style:{width:"80%"}},{default:t(()=>[e(d,{modelValue:a.confirmPassword,"onUpdate:modelValue":n[2]||(n[2]=s=>a.confirmPassword=s)},null,8,["modelValue"])]),_:1}),e(r,{style:{width:"80%"}},{default:t(()=>[e(u,{onClick:_.confirm},{default:t(()=>[g("确认修改")]),_:1},8,["onClick"])]),_:1})]),_:1})])]),_:1}),e(m,{width:"5%"})]),_:1})])}const E=V(y,[["render",v]]);export{E as default};
