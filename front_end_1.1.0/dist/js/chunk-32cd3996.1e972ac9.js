(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-32cd3996"],{"5d47":function(t,e,a){},"64bf":function(t,e,a){"use strict";a("5d47")},"87a4":function(t,e,a){},"978d":function(t,e,a){"use strict";a.r(e);var l=function(){var t=this,e=t._self._c;return e("div",[e("TeacherHeadBar"),e("el-container",[e("el-aside",{staticStyle:{"min-height":"600px"},attrs:{width:"20%"}},[e("TeacherMenu")],1),e("el-main",{attrs:{width:"75%"}},[e("div",{staticClass:"title",staticStyle:{"margin-top":"20px"}},[t._v("用户记录表")]),e("div",{staticStyle:{margin:"0 auto","margin-top":"20px","align-items":"center"}},[e("el-card",{staticClass:"box-card",staticStyle:{width:"80%"}},[e("el-table",{staticStyle:{width:"100%"},attrs:{data:t.tableData,border:""}},[e("el-table-column",{attrs:{type:"index",index:t.indexMethod,align:"center"}}),e("el-table-column",{attrs:{align:"center",prop:"name",label:"用户名","min-width":"50"}}),e("el-table-column",{attrs:{align:"center",prop:"phoneNumber",label:"手机号","min-width":"80"}}),e("el-table-column",{attrs:{align:"center",prop:"studentId",label:"学号","min-width":"60"}}),e("el-table-column",{attrs:{align:"center",prop:"college",label:"学院","min-width":"50"}}),e("el-table-column",{attrs:{align:"center",label:"操作","min-width":"160"},scopedSlots:t._u([{key:"default",fn:function(a){return[e("el-button",{attrs:{type:"primary",plain:""},on:{click:function(e){return t.handleCreate(a.row)}}},[t._v("查看记录")]),e("el-button",{attrs:{type:"danger",plain:""},on:{click:function(e){return t.deleteUser(a.row)}}},[t._v("删除用户")]),e("el-dialog",{attrs:{visible:t.dialogFormVisible},on:{"update:visible":function(e){t.dialogFormVisible=e}}},[e("div",{staticClass:"title",staticStyle:{"margin-top":"0px"}},[t._v("工具借用记录表")]),e("div",{staticStyle:{margin:"0 auto","align-items":"center"}},[e("el-card",{staticClass:"box-card",staticStyle:{width:"80%"}},[e("el-table",{staticStyle:{width:"100%"},attrs:{data:t.tableRecordData,border:""}},[e("el-table-column",{attrs:{align:"center",prop:"toolName",label:"工具名称","min-width":"120"}}),e("el-table-column",{attrs:{align:"center",prop:"startTime",label:"借用开始时间","min-width":"100"}}),e("el-table-column",{attrs:{align:"center",prop:"returnTime",label:"最晚归还时间","min-width":"100"}}),e("el-table-column",{attrs:{align:"center",label:"状态","min-width":"120"},scopedSlots:t._u([{key:"default",fn:function(a){return["A"===a.row.status?e("el-button",{attrs:{size:"mini",type:"warning"}},[t._v("工具借用中")]):t._e(),"W"===a.row.status?e("el-button",{attrs:{size:"mini",type:"primary"}},[t._v("等待审核中")]):t._e(),"R"===a.row.status?e("el-button",{attrs:{size:"mini",type:"danger"}},[t._v("申请被拒绝")]):t._e(),"F"===a.row.status?e("el-button",{attrs:{size:"mini",type:"success"}},[t._v("工具已归还")]):t._e()]}}],null,!0)})],1)],1)],1)])]}}])})],1)],1)],1)]),e("el-aside",{attrs:{width:"5%"}})],1)],1)},i=[],s=a("f18d"),r=a("cb7d"),o=a("8aad"),n=a.n(o),d={components:{TeacherHeadBar:s["a"],TeacherMenu:r["a"]},inject:["reload"],mounted(){this.loadMessage()},data(){return{dialogFormVisible:!1,tableRecordData:[{toolName:"",startTime:"",returnTime:"",requestId:"",status:""}],tableData:[{uid:"",name:"",phoneNumber:"",college:"",studentId:""}]}},methods:{handleCreate(t){this.dialogFormVisible=!0;let e=this;console.log(t.uid),n()({url:"manager/allBorrowList",method:"post",data:{uid:-2,stu_uid:t.uid}}).then(a=>{a?0===a.data.error_code?(console.log("获取成功",a.data),e.tableRecordData=a.data.requestList):(console.log("获取失败"+a.data),alert(t.uid+" 获取失败,error: "+a.data.error_code)):(console.log("获取失败"+a.data),alert("获取失败，请检查网络"))})},deleteUser(t){console.log(t);var e=t.uid;n()({url:"manager/deleteStudent",method:"post",data:{uid:-2,stu_uid:e}}).then(t=>{this.reload(),alert("已删除该用户")})},loadMessage(){n()({url:"manager/getStudentList",method:"post",data:{}}).then(t=>{console.log(t),this.tableData=t.data.dataList})}}},c=d,u=(a("c494"),a("847b")),m=Object(u["a"])(c,l,i,!1,null,"9aa47cf2",null);e["default"]=m.exports},c494:function(t,e,a){"use strict";a("87a4")},cb7d:function(t,e,a){"use strict";var l=function(){var t=this,e=t._self._c;return e("div",{staticStyle:{display:"flex"}},[e("div",{staticStyle:{"min-width":"200px"}},[e("el-menu",{staticClass:"el-menu-vertical-demo",attrs:{"active-text-color":"#a6dcff",router:""}},[e("el-submenu",{attrs:{index:"1"}},[e("template",{slot:"title"},[e("i",{staticClass:"el-icon-s-promotion"}),t._v("审批管理")]),this.isSuperUser?e("el-menu-item",{attrs:{index:"/borrowProcessing"}},[e("span",{attrs:{slot:"title"},slot:"title"},[t._v("借用审批")])]):t._e(),this.isSuperUser?e("el-menu-item",{attrs:{index:"/messageProcessing"}},[e("span",{attrs:{slot:"title"},slot:"title"},[t._v("延期审批")])]):t._e(),this.isSuperUser?e("el-menu-item",{attrs:{index:"/toolRecord"}},[e("span",{attrs:{slot:"title"},slot:"title"},[t._v("归还审批")])]):t._e()],2),e("el-submenu",{attrs:{index:"2"}},[e("template",{slot:"title"},[e("i",{staticClass:"el-icon-s-order"}),t._v("用户管理")]),this.isSuperUser?e("el-menu-item",{attrs:{index:"/addTeacher"}},[e("span",{attrs:{slot:"title"},slot:"title"},[t._v("添加教师")])]):t._e(),this.isSuperUser?e("el-menu-item",{attrs:{index:"/UserRecord"}},[e("span",{attrs:{slot:"title"},slot:"title"},[t._v("学生列表")])]):t._e(),this.isSuperUser?e("el-menu-item",{attrs:{index:"/TeacherRecord"}},[e("span",{attrs:{slot:"title"},slot:"title"},[t._v("教师列表")])]):t._e()],2),e("el-submenu",{attrs:{index:"3"}},[e("template",{slot:"title"},[e("i",{staticClass:"el-icon-setting"}),t._v("工具管理")]),this.isSuperUser?e("el-menu-item",{attrs:{index:"/AllToolRecord"}},[e("span",{attrs:{slot:"title"},slot:"title"},[t._v("工具列表")])]):t._e(),e("el-menu-item",{attrs:{index:"/addtool"}},[e("span",{attrs:{slot:"title"},slot:"title"},[t._v("新增工具")])]),e("el-menu-item",{attrs:{index:"/settools"}},[e("span",{attrs:{slot:"title"},slot:"title"},[t._v("编辑工具")])])],2)],1)],1),e("div",[e("router-view")],1)])},i=[],s={name:"teachermenu",mounted(){this.loadIsSuperUser()},data(){return{isSuperUser:!0}},methods:{loadIsSuperUser(){"false"==localStorage.getItem("isSuperUser")&&(this.isSuperUser=!1)}}},r=s,o=a("847b"),n=Object(o["a"])(r,l,i,!1,null,null,null);e["a"]=n.exports},f18d:function(t,e,a){"use strict";var l=function(){var t=this,e=t._self._c;return e("div",{staticClass:"x-head"},[e("img",{staticStyle:{cursor:"pointer",height:"60px","margin-left":"10px","margin-top":"0.5%"},attrs:{src:"headerLogo.png"},on:{click:t.toMain}}),e("div",{staticStyle:{margin:"0 auto"}}),e("div",{staticStyle:{"line-height":"6vh",margin:"0 4vh 0 0"}},[e("el-dropdown",[e("div",{staticClass:"header-right"},[e("span",{staticStyle:{color:"white"}},[t._v(t._s(this.mail))])]),e("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},[e("el-dropdown-item",{attrs:{icon:"el-icon-edit"}},[e("span",{staticStyle:{cursor:"pointer"},on:{click:t.changePwd}},[t._v("修改密码")])]),e("el-dropdown-item",{attrs:{icon:"el-icon-edit"}},[e("span",{staticStyle:{cursor:"pointer"},on:{click:t.changeInfo}},[t._v("个人信息")])]),e("el-dropdown-item",{attrs:{icon:"el-icon-s-fold"}},[e("span",{staticStyle:{cursor:"pointer"},on:{click:t.logout}},[t._v("退出登录")])])],1)],1)],1),t._m(0)])},i=[function(){var t=this,e=t._self._c;return e("div",[e("br")])}],s=(a("cdf1"),a("8aad")),r=a.n(s),o={name:"teacherheadbar",data(){return{mail:localStorage.getItem("Mail")}},methods:{goToLogin(){this.$router.push("/teacherLogin"),localStorage.setItem("Mail",null)},logout(){this.$router.push("/teacherLogin"),localStorage.setItem("Mail",null),r()({method:"post",url:"user/unLogin",data:{token:localStorage.getItem("token")}}),console.log("执行了"),localStorage.setItem("token","wutoken")},changeInfo(){console.log("Info"),this.$router.push("/teacherChangeInfo")},changePwd(){console.log("Pwd"),this.$router.push("/teacherChangePwd")},toMain(){this.$router.push("/borrowProcessing")}}},n=o,d=(a("64bf"),a("847b")),c=Object(d["a"])(n,l,i,!1,null,"03982c49",null);e["a"]=c.exports}}]);
//# sourceMappingURL=chunk-32cd3996.1e972ac9.js.map