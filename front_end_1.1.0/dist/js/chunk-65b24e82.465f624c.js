(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-65b24e82"],{b0c0:function(t,e,o){var s=o("83ab"),r=o("5e77").EXISTS,a=o("e330"),n=o("9bf2").f,i=Function.prototype,c=a(i.toString),l=/function\b(?:\s|\/\*[\S\s]*?\*\/|\/\/[^\n\r]*[\n\r]+)*([^\s(/]*)/,m=a(l.exec),d="name";s&&!r&&n(i,d,{configurable:!0,get:function(){try{return m(l,c(this))[1]}catch(t){return""}}})},b28e:function(t,e,o){"use strict";o.r(e);var s=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"login-register"},[o("div",{staticClass:"contain"},[o("div",{staticClass:"big-box",class:{active:t.isLogin}},[t.isLogin?o("div",{staticClass:"big-contain"},[o("div",{staticClass:"btitle"},[t._v("忘记密码")]),o("div",{staticClass:"bform"},[o("span",{staticClass:"count"},[t._v("邮箱          :  "),o("input",{directives:[{name:"model",rawName:"v-model",value:t.form.email,expression:"form.email"}],attrs:{type:"text",placeholder:"邮箱"},domProps:{value:t.form.email},on:{input:function(e){e.target.composing||t.$set(t.form,"email",e.target.value)}}})]),o("br"),o("span",{staticClass:"count"},[t._v("手机号码    :  "),o("input",{directives:[{name:"model",rawName:"v-model",value:t.form.phone,expression:"form.phone"}],attrs:{type:"text",placeholder:"手机号码"},domProps:{value:t.form.phone},on:{input:function(e){e.target.composing||t.$set(t.form,"phone",e.target.value)}}})]),o("br"),o("button",{on:{click:t.sendCode}},[t._v("获取验证码"),o("span",{directives:[{name:"show",rawName:"v-show",value:!t.show,expression:"!show"}],staticClass:"count"},[t._v(" "+t._s(t.count)+" s")])]),o("br"),o("span",{staticClass:"count"},[t._v("验证码       :  "),o("input",{directives:[{name:"model",rawName:"v-model",value:t.form.code,expression:"form.code"}],attrs:{type:"code",placeholder:"验证码"},domProps:{value:t.form.code},on:{input:function(e){e.target.composing||t.$set(t.form,"code",e.target.value)}}})]),o("br"),o("span",{staticClass:"count"},[t._v("设置新密码:  "),o("input",{directives:[{name:"model",rawName:"v-model",value:t.form.password,expression:"form.password"}],attrs:{type:"password",placeholder:"设置新密码"},domProps:{value:t.form.password},on:{input:function(e){e.target.composing||t.$set(t.form,"password",e.target.value)}}})]),o("br")]),o("button",{staticClass:"bbutton",on:{click:t.confirmChange}},[t._v("确认修改")]),t._v("   "),o("button",{on:{click:t.studentEntry}},[t._v("返回登录")])]):o("div",{staticClass:"big-contain"},[t.stateReg?o("div",[o("div",{staticClass:"btitle"},[t._v("欢迎！"+t._s(this.form.name))]),o("div",{staticClass:"bform"},[o("input",{directives:[{name:"model",rawName:"v-model",value:t.form.phone,expression:"form.phone"}],attrs:{type:"text",placeholder:"手机号码"},domProps:{value:t.form.phone},on:{input:function(e){e.target.composing||t.$set(t.form,"phone",e.target.value)}}}),o("br"),o("button",{on:{click:t.sendCode}},[t._v("获取验证码"),o("span",{directives:[{name:"show",rawName:"v-show",value:!t.show,expression:"!show"}],staticClass:"count"},[t._v(" "+t._s(t.count)+" s")])]),o("br"),o("input",{directives:[{name:"model",rawName:"v-model",value:t.form.code,expression:"form.code"}],attrs:{type:"code",placeholder:"验证码"},domProps:{value:t.form.code},on:{input:function(e){e.target.composing||t.$set(t.form,"code",e.target.value)}}}),o("br"),o("input",{directives:[{name:"model",rawName:"v-model",value:t.form.password,expression:"form.password"}],attrs:{type:"password",placeholder:"密码"},domProps:{value:t.form.password},on:{input:function(e){e.target.composing||t.$set(t.form,"password",e.target.value)}}}),o("br"),o("input",{directives:[{name:"model",rawName:"v-model",value:t.form.password2,expression:"form.password2"}],attrs:{type:"password",placeholder:"确认密码"},domProps:{value:t.form.password2},on:{input:function(e){e.target.composing||t.$set(t.form,"password2",e.target.value)}}})]),o("button",{staticClass:"bbutton",on:{click:t.changeRegState}},[t._v("上一步")]),t._v("  "),o("button",{staticClass:"bbutton",on:{click:t.register}},[t._v("注册")])]):o("div",[o("div",{staticClass:"btitle"},[t._v("学生注册")]),o("div",{staticClass:"bform"},[o("input",{directives:[{name:"model",rawName:"v-model",value:t.form.sid,expression:"form.sid"}],attrs:{type:"text",placeholder:"学号"},domProps:{value:t.form.sid},on:{input:function(e){e.target.composing||t.$set(t.form,"sid",e.target.value)}}}),o("br"),t.existed?o("span",{staticClass:"errTips"},[t._v("* 该学号已经注册！ *")]):t._e(),o("input",{directives:[{name:"model",rawName:"v-model",value:t.form.name,expression:"form.name"}],attrs:{type:"text",placeholder:"姓名"},domProps:{value:t.form.name},on:{input:function(e){e.target.composing||t.$set(t.form,"name",e.target.value)}}}),o("br"),o("input",{directives:[{name:"model",rawName:"v-model",value:t.form.college,expression:"form.college"}],attrs:{type:"text",placeholder:"学院"},domProps:{value:t.form.college},on:{input:function(e){e.target.composing||t.$set(t.form,"college",e.target.value)}}}),o("br"),o("input",{directives:[{name:"model",rawName:"v-model",value:t.form.email,expression:"form.email"}],attrs:{type:"email",placeholder:"邮箱"},domProps:{value:t.form.email},on:{input:function(e){e.target.composing||t.$set(t.form,"email",e.target.value)}}}),o("br"),t._v(" 请确认您的个人信息无误。 ")]),o("button",{staticClass:"bbutton",on:{click:t.changeRegState}},[t._v("下一步")])])])]),o("div",{staticClass:"small-box",class:{active:t.isLogin}},[t.isLogin?o("div",{staticClass:"small-contain"},[t._m(0),o("p",{staticClass:"scontent"},[t._v("尚无账号？点击下方按钮进行注册。")]),o("button",{staticClass:"sbutton",on:{click:t.changeType}},[t._v("前往注册")]),o("br"),o("button",{staticClass:"sbutton",on:{click:t.teacherEntry}},[t._v("教师入口")])]):o("div",{staticClass:"small-contain"},[o("div",{staticClass:"stitle"},[t._v("学生，您好！")]),t._m(1),o("button",{staticClass:"sbutton",on:{click:t.changeType}},[t._v("前往登录")]),o("br"),o("button",{staticClass:"sbutton",on:{click:t.teacherEntry}},[t._v("教师入口")])])])])])},r=[function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"stitle"},[t._v("北航工程训练中心"),o("br"),t._v("工具信息平台")])},function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("p",{staticClass:"scontent"},[t._v("注册工训中心账号，"),o("br"),t._v("轻松进行设备借还。")])}],a=(o("b0c0"),o("bc3a")),n=o.n(a),i={name:"login-register",data:function(){return{isLogin:!0,stateReg:!1,emailError:!1,passwordError:!1,existed:!1,form:{email:"",phone:"",password:"",code:""},show:!0,count:"",timer:null}},methods:{sendCode:function(){var t=this,e=60;this.timer||(console.log("已发送"),n()({method:"post",url:"user/forget/sendCode",data:{acc:this.form.phone}}).then((function(t){console.log(t.data),alert("验证码已发送，请在手机信息中查看。")})),this.count=e,this.show=!1,this.timer=setInterval((function(){t.count>0&&t.count<=e?t.count--:(t.show=!0,clearInterval(t.timer),t.timer=null)}),1e3))},studentEntry:function(){this.$router.push("/studentLogin")},confirmChange:function(){var t=this;""!=this.form.phone&&""!=this.form.password?n()({method:"post",url:"user/forget/setPwd",data:{acc:this.form.email,phoneNumber:this.form.phone,pwd:this.form.password,key:this.form.code}}).then((function(e){console.log(e.data.error_code),0==e.data.error_code?(alert("重置密码成功！"),t.$router.push("/studentLogin")):1==e.data.error_code?alert("存在输入为空！"):2==e.data.error_code?alert("该邮箱不存在！"):3==e.data.error_code?alert("密码错误或格式不规范！请重新输入。"):alert("验证码错误，请重新输入。")})):alert("填写不能为空")},studentForgetPwd:function(){this.$router.push("/studentForgetPwd")},changeType:function(){this.isLogin=!this.isLogin,this.stateReg=!1,this.form.sid="",this.form.name="",this.form.college="",this.form.email="",this.form.password=""},teacherEntry:function(){this.$router.push("/teacherLogin")},changeRegState:function(){""!=this.form.sid&&""!=this.form.name&&""!=this.form.college?this.stateReg=!this.stateReg:alert("填写不能为空！")},login:function(){var t=this;console.log(this.form.email+" : "+this.form.password),""!=this.form.email&&""!=this.form.password?n()({method:"post",url:"user/login",data:{acc:this.form.email,pwd:this.form.password}}).then((function(e){0==e.data.error_code?(localStorage.setItem("uid",e.data.uid),localStorage.setItem("Mail",t.form.email),alert("登录成功！"),t.$router.push("/borrowRecord")):1==e.data.error_code?alert("输入有误！请重新登录。"):2==e.data.error_code?alert("请先进行注册！"):3==e.data.error_code&&alert("密码错误或格式不正确！请重新输入")})).catch((function(t){console.log(t)})):alert("填写不能为空！")},register:function(){var t=this;console.log(this.form.email+" : "+this.form.password),""!=this.form.password&&""!=this.form.email?n()({method:"post",url:"user/register",data:{studentId:this.form.sid,name:this.form.name,college:this.form.college,acc:this.form.email,pwd:this.form.password,key:this.form.code,phoneNumber:this.form.phone}}).then((function(e){console.log(e.data.error_code),0==e.data.error_code?t.changeType():1==e.data.error_code?alert("输入有误，请重新输入。"):2==e.data.error_code?alert("该邮箱已注册。"):3==e.data.error_code?alert("请输入正确验证码"):4==e.data.error_code&&alert("验证码错误，请重新输入!")})).catch((function(t){console.log(t)})):alert("填写不能为空！")}}},c=i,l=(o("d01e"),o("2877")),m=Object(l["a"])(c,s,r,!1,null,"9a9319f8",null);e["default"]=m.exports},d01e:function(t,e,o){"use strict";o("d086")},d086:function(t,e,o){}}]);
//# sourceMappingURL=chunk-65b24e82.465f624c.js.map