{"remainingRequest":"D:\\Desktop\\git_clong\\Tool_manage_BUAA\\前端文件\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\Desktop\\git_clong\\Tool_manage_BUAA\\前端文件\\src\\views\\manager_views\\AddTeacher.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\Desktop\\git_clong\\Tool_manage_BUAA\\前端文件\\src\\views\\manager_views\\AddTeacher.vue","mtime":1673705954301},{"path":"D:\\Desktop\\git_clong\\Tool_manage_BUAA\\前端文件\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1673701897175},{"path":"D:\\Desktop\\git_clong\\Tool_manage_BUAA\\前端文件\\node_modules\\babel-loader\\lib\\index.js","mtime":1673701896619},{"path":"D:\\Desktop\\git_clong\\Tool_manage_BUAA\\前端文件\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1673701897175},{"path":"D:\\Desktop\\git_clong\\Tool_manage_BUAA\\前端文件\\node_modules\\vue-loader\\lib\\index.js","mtime":1673701901619}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KDQppbXBvcnQgVGVhY2hlckhlYWRCYXIgZnJvbSAiQC9jb21wb25lbnRzL1RlYWNoZXJIZWFkQmFyIjsNCmltcG9ydCBUZWFjaGVyTWVudSBmcm9tICJAL2NvbXBvbmVudHMvVGVhY2hlck1lbnUiOw0KaW1wb3J0IGF4aW9zIGZyb20gImF4aW9zIjsNCg0KZXhwb3J0IGRlZmF1bHQgew0KICBpbmplY3Q6IFsncmVsb2FkJ10sDQogIGNvbXBvbmVudHM6e1RlYWNoZXJIZWFkQmFyLFRlYWNoZXJNZW51fSwNCiAgbW91bnRlZCgpew0KICAgIHRoaXMubG9hZFRhYmxlKCkNCiAgfSwNCiAgZGF0YSgpIHsNCiAgICByZXR1cm4gew0KICAgICAgdGNoRGF0YTpbew0KICAgICAgICBuYW1lOicnLA0KICAgICAgICB0ZWFjaGVySWQ6JycsDQogICAgICAgIGFjYzonJywNCiAgICAgICAgdWlkOicnLA0KICAgICAgfV0sDQogICAgfTsNCiAgfSwNCiAgbWV0aG9kczogew0KICAgIGxvYWRUYWJsZSgpew0KICAgICAgICBsZXQgdGhhdCA9IHRoaXM7DQogICAgICAgIGF4aW9zKHsNCiAgICAgICAgICBtZXRob2Q6J3Bvc3QnLA0KICAgICAgICAgIHVybDogJ2h0dHA6Ly8xMjcuMC4wLjE6ODAwMC9tYW5hZ2VyL2dldFRlYWNoZXJBcHByb3ZlTGlzdCcsDQogICAgICAgICAgZGF0YTogew0KICAgICAgICAgIH0NCiAgICAgICAgfSkNCiAgICAgICAgLnRoZW4oKHJlc3BvbnNlKSA9PiB7DQoJCQkJCWlmIChyZXNwb25zZSkgew0KCQkJCQkJaWYgKHJlc3BvbnNlLmRhdGEuZXJyb3JfY29kZSA9PT0gMCkgew0KCQkJCQkJCWNvbnNvbGUubG9nKCLojrflj5bmiJDlip8iLCByZXNwb25zZS5kYXRhKTsNCiAgICAgICAgICAgICAgdGhhdC50Y2hEYXRhID0gcmVzcG9uc2UuZGF0YS5kYXRhTGlzdDsNCgkJCQkJCX0gZWxzZSB7DQoJCQkJCQkJY29uc29sZS5sb2coIuiOt+WPluWksei0pSIgKyByZXNwb25zZS5kYXRhKTsNCgkJCQkJCQlhbGVydCgi6I635Y+W5aSx6LSl77yM6K+35qOA5p+l572R57ucIik7DQoJCQkJCQl9DQoJCQkJCX0gZWxzZSB7DQoJCQkJCQljb25zb2xlLmxvZygi6I635Y+W5aSx6LSlIiArIHJlc3BvbnNlLmRhdGEpOw0KCQkJCQkJYWxlcnQoIuiOt+WPluWksei0pe+8jOivt+ajgOafpee9kee7nCIpOw0KCQkJCQl9DQoJCQkJfSk7DQogICAgfSwNCiAgICANCiAgICBoYW5kbGVBZ3JlZShpbmRleCwgcm93KSB7DQogICAgICBjb25zb2xlLmxvZyhpbmRleCwgcm93KTsNCiAgICAgIGF4aW9zKHsNCgkJCQkJdXJsOiAnbWFuYWdlci9hcHByb3ZlVGVhY2hlcicsDQoJCQkJCW1ldGhvZDogJ3Bvc3QnLA0KCQkJCQlkYXRhOiB7DQogICAgICAgICAgICB1aWQ6IGxvY2FsU3RvcmFnZS5nZXRJdGVtKCd1aWQnKSwNCiAgICAgICAgICAgIHRlYWNoZXJJZDogcm93LnVpZCwNCiAgICAgICAgICAgIHN0YXR1czogIkFjY2VwdCIsDQoJCQkJCX0NCgkJCQl9KS50aGVuKChyZXNwb25zZSkgPT4gew0KCQkJCQlpZiAocmVzcG9uc2UpIHsNCgkJCQkJCWlmIChyZXNwb25zZS5kYXRhLmVycm9yX2NvZGUgPT09IDApIHsNCgkJCQkJCQljb25zb2xlLmxvZygi5bey5re75Yqg6K+l5pWZ5biIIik7DQogICAgICAgICAgICAgIGFsZXJ0KCLlt7Lmt7vliqDor6XmlZnluIgiKTsNCiAgICAgICAgICAgICAgdGhpcy5yZWxvYWQoKQ0KCQkJCQkJfSBlbHNlIHsNCgkJCQkJCQljb25zb2xlLmxvZygi5a6h5om55aSx6LSlIiArIHJlc3BvbnNlLmRhdGEpOw0KCQkJCQkJCWFsZXJ0KCJlcnJvciIgKyByZXNwb25zZS5kYXRhLmVycm9yX2NvZGUpOw0KCQkJCQkJfQ0KCQkJCQl9IGVsc2Ugew0KCQkJCQkJY29uc29sZS5sb2coIuWuoeaJueWksei0pe+8jOivt+ajgOafpee9kee7nCIgKyByZXNwb25zZS5kYXRhKTsNCgkJCQkJCWFsZXJ0KCLlrqHmibnlpLHotKXvvIzor7fmo4Dmn6XnvZHnu5wiKTsNCgkJCQkJfQ0KCQkJCX0pOw0KICAgIH0sDQogICAgaGFuZGxlUmVmdXNlKGluZGV4LCByb3cpIHsNCiAgICAgIGNvbnNvbGUubG9nKGluZGV4LCByb3cpOw0KICAgICAgYXhpb3Moew0KCQkJCQl1cmw6ICdtYW5hZ2VyL2FwcHJvdmVUZWFjaGVyJywNCgkJCQkJbWV0aG9kOiAncG9zdCcsDQoJCQkJCWRhdGE6IHsNCiAgICAgICAgICAgIHVpZDogbG9jYWxTdG9yYWdlLmdldEl0ZW0oJ3VpZCcpLA0KICAgICAgICAgICAgdGVhY2hlcklkOiByb3cudWlkLA0KICAgICAgICAgICAgc3RhdHVzOiAiUmVmdXNlIiwNCgkJCQkJfQ0KCQkJCX0pLnRoZW4oKHJlc3BvbnNlKSA9PiB7DQoJCQkJCWlmIChyZXNwb25zZSkgew0KCQkJCQkJaWYgKHJlc3BvbnNlLmRhdGEuZXJyb3JfY29kZSA9PT0gMCkgew0KCQkJCQkJCWNvbnNvbGUubG9nKCLlt7Lmi5Lnu53or6XnlLPor7ciLCByZXNwb25zZS5kYXRhKTsNCiAgICAgICAgICAgICAgYWxlcnQoIuW3suaLkue7neivpeeUs+ivtyIpOw0KICAgICAgICAgICAgICB0aGlzLnJlbG9hZCgpDQoJCQkJCQl9IGVsc2Ugew0KCQkJCQkJCWNvbnNvbGUubG9nKCLlrqHmibnlpLHotKUiICsgcmVzcG9uc2UuZGF0YSk7DQoJCQkJCQkJYWxlcnQoImVycm9yIiArIHJlc3BvbnNlLmRhdGEuZXJyb3JfY29kZSk7DQoJCQkJCQl9DQoJCQkJCX0gZWxzZSB7DQoJCQkJCQljb25zb2xlLmxvZygi5a6h5om55aSx6LSl77yM6K+35qOA5p+l572R57ucIiArIHJlc3BvbnNlLmRhdGEpOw0KCQkJCQkJYWxlcnQoIuWuoeaJueWksei0pe+8jOivt+ajgOafpee9kee7nCIpOw0KCQkJCQl9DQoJCQkJfSk7DQogICAgfSwNCg0KICB9LA0KfTsNCg=="},{"version":3,"sources":["AddTeacher.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAuCA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA","file":"AddTeacher.vue","sourceRoot":"src/views/manager_views","sourcesContent":["<template>\r\n  <div>\r\n    <TeacherHeadBar></TeacherHeadBar>\r\n    <el-container>\r\n      <el-aside width=\"20%\" style=\"min-height: 600px;\" >\r\n        <TeacherMenu></TeacherMenu>\r\n      </el-aside>\r\n      <el-main width=\"75%\">\r\n        <div class=\"title\">教师添加</div>\r\n        <div style=\"margin: 0 auto; margin-top: 20px; align-items: center;\">\r\n          <el-card class=\"box-card\" style=\"width: 90%\">\r\n              <el-table :data=\"tchData\" style=\"width: 100%\" border>\r\n                <el-table-column align=\"center\" prop=\"name\" label=\"教师信息\" min-width=\"150\"></el-table-column>\r\n                <el-table-column align=\"center\" prop=\"teacherId\" label=\"工号\" min-width=\"170\"></el-table-column>\r\n                <el-table-column align=\"center\" prop=\"acc\" label=\"邮箱\" min-width=\"170\"></el-table-column>\r\n                <el-table-column align=\"center\" label=\"操作\" min-width=\"200\">\r\n                  <template slot-scope=\"scope\">\r\n                    <el-button\r\n                      size=\"mini\"\r\n                      type=\"success\"\r\n                      plain\r\n                      @click=\"handleAgree(scope.$index, scope.row)\">同意添加</el-button>\r\n                    <el-button\r\n                      size=\"mini\"\r\n                      type=\"danger\"\r\n                      plain\r\n                      @click=\"handleRefuse(scope.$index, scope.row)\">拒绝添加</el-button>\r\n                  </template>\r\n                </el-table-column>\r\n              </el-table>\r\n          </el-card>\r\n        </div>\r\n      </el-main>\r\n      <el-aside width=\"5%\"></el-aside>\r\n    </el-container>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport TeacherHeadBar from \"@/components/TeacherHeadBar\";\r\nimport TeacherMenu from \"@/components/TeacherMenu\";\r\nimport axios from \"axios\";\r\n\r\nexport default {\r\n  inject: ['reload'],\r\n  components:{TeacherHeadBar,TeacherMenu},\r\n  mounted(){\r\n    this.loadTable()\r\n  },\r\n  data() {\r\n    return {\r\n      tchData:[{\r\n        name:'',\r\n        teacherId:'',\r\n        acc:'',\r\n        uid:'',\r\n      }],\r\n    };\r\n  },\r\n  methods: {\r\n    loadTable(){\r\n        let that = this;\r\n        axios({\r\n          method:'post',\r\n          url: 'http://127.0.0.1:8000/manager/getTeacherApproveList',\r\n          data: {\r\n          }\r\n        })\r\n        .then((response) => {\r\n\t\t\t\t\tif (response) {\r\n\t\t\t\t\t\tif (response.data.error_code === 0) {\r\n\t\t\t\t\t\t\tconsole.log(\"获取成功\", response.data);\r\n              that.tchData = response.data.dataList;\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\tconsole.log(\"获取失败\" + response.data);\r\n\t\t\t\t\t\t\talert(\"获取失败，请检查网络\");\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tconsole.log(\"获取失败\" + response.data);\r\n\t\t\t\t\t\talert(\"获取失败，请检查网络\");\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n    },\r\n    \r\n    handleAgree(index, row) {\r\n      console.log(index, row);\r\n      axios({\r\n\t\t\t\t\turl: 'manager/approveTeacher',\r\n\t\t\t\t\tmethod: 'post',\r\n\t\t\t\t\tdata: {\r\n            uid: localStorage.getItem('uid'),\r\n            teacherId: row.uid,\r\n            status: \"Accept\",\r\n\t\t\t\t\t}\r\n\t\t\t\t}).then((response) => {\r\n\t\t\t\t\tif (response) {\r\n\t\t\t\t\t\tif (response.data.error_code === 0) {\r\n\t\t\t\t\t\t\tconsole.log(\"已添加该教师\");\r\n              alert(\"已添加该教师\");\r\n              this.reload()\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\tconsole.log(\"审批失败\" + response.data);\r\n\t\t\t\t\t\t\talert(\"error\" + response.data.error_code);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tconsole.log(\"审批失败，请检查网络\" + response.data);\r\n\t\t\t\t\t\talert(\"审批失败，请检查网络\");\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n    },\r\n    handleRefuse(index, row) {\r\n      console.log(index, row);\r\n      axios({\r\n\t\t\t\t\turl: 'manager/approveTeacher',\r\n\t\t\t\t\tmethod: 'post',\r\n\t\t\t\t\tdata: {\r\n            uid: localStorage.getItem('uid'),\r\n            teacherId: row.uid,\r\n            status: \"Refuse\",\r\n\t\t\t\t\t}\r\n\t\t\t\t}).then((response) => {\r\n\t\t\t\t\tif (response) {\r\n\t\t\t\t\t\tif (response.data.error_code === 0) {\r\n\t\t\t\t\t\t\tconsole.log(\"已拒绝该申请\", response.data);\r\n              alert(\"已拒绝该申请\");\r\n              this.reload()\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\tconsole.log(\"审批失败\" + response.data);\r\n\t\t\t\t\t\t\talert(\"error\" + response.data.error_code);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tconsole.log(\"审批失败，请检查网络\" + response.data);\r\n\t\t\t\t\t\talert(\"审批失败，请检查网络\");\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n    },\r\n\r\n  },\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n  .box-card{\r\n    margin-left: 100px;\r\n  }\r\n  .title {\r\n    color: rgb(204, 122, 0);\r\n    margin-bottom: 40px;\r\n    font-family: 微软雅黑;\r\n    word-wrap: break-word;\r\n    /* text-align: left; */\r\n    font-size: 25px;\r\n    font-weight: bold;\r\n  }\r\n</style>\r\n"]}]}