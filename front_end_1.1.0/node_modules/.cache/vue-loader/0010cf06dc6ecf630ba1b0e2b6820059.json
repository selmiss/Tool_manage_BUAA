{"remainingRequest":"/Users/fancy/工具信息平台前后端文件集/Tool_manage_BUAA/前端文件/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/fancy/工具信息平台前后端文件集/Tool_manage_BUAA/前端文件/src/views/manager_views/AddTeacher.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/fancy/工具信息平台前后端文件集/Tool_manage_BUAA/前端文件/src/views/manager_views/AddTeacher.vue","mtime":1654855369000},{"path":"/Users/fancy/工具信息平台前后端文件集/Tool_manage_BUAA/前端文件/node_modules/cache-loader/dist/cjs.js","mtime":1672907908842},{"path":"/Users/fancy/工具信息平台前后端文件集/Tool_manage_BUAA/前端文件/node_modules/babel-loader/lib/index.js","mtime":1672907904229},{"path":"/Users/fancy/工具信息平台前后端文件集/Tool_manage_BUAA/前端文件/node_modules/cache-loader/dist/cjs.js","mtime":1672907908842},{"path":"/Users/fancy/工具信息平台前后端文件集/Tool_manage_BUAA/前端文件/node_modules/vue-loader/lib/index.js","mtime":1672907904287}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCBUZWFjaGVySGVhZEJhciBmcm9tICJAL2NvbXBvbmVudHMvVGVhY2hlckhlYWRCYXIiOwppbXBvcnQgVGVhY2hlck1lbnUgZnJvbSAiQC9jb21wb25lbnRzL1RlYWNoZXJNZW51IjsKaW1wb3J0IGF4aW9zIGZyb20gImF4aW9zIjsKCmV4cG9ydCBkZWZhdWx0IHsKICBpbmplY3Q6IFsncmVsb2FkJ10sCiAgY29tcG9uZW50czp7VGVhY2hlckhlYWRCYXIsVGVhY2hlck1lbnV9LAogIG1vdW50ZWQoKXsKICAgIHRoaXMubG9hZFRhYmxlKCkKICB9LAogIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICB0Y2hEYXRhOlt7CiAgICAgICAgbmFtZTonJywKICAgICAgICB0ZWFjaGVySWQ6JycsCiAgICAgICAgYWNjOicnLAogICAgICAgIHVpZDonJywKICAgICAgfV0sCiAgICB9OwogIH0sCiAgbWV0aG9kczogewogICAgbG9hZFRhYmxlKCl7CiAgICAgICAgbGV0IHRoYXQgPSB0aGlzOwogICAgICAgIGF4aW9zKHsKICAgICAgICAgIG1ldGhvZDoncG9zdCcsCiAgICAgICAgICB1cmw6ICdodHRwOi8vMTIxLjQuMTYwLjE1Ny9tYW5hZ2VyL2dldFRlYWNoZXJBcHByb3ZlTGlzdCcsCiAgICAgICAgICBkYXRhOiB7CiAgICAgICAgICB9CiAgICAgICAgfSkKICAgICAgICAudGhlbigocmVzcG9uc2UpID0+IHsKCQkJCQlpZiAocmVzcG9uc2UpIHsKCQkJCQkJaWYgKHJlc3BvbnNlLmRhdGEuZXJyb3JfY29kZSA9PT0gMCkgewoJCQkJCQkJY29uc29sZS5sb2coIuiOt+WPluaIkOWKnyIsIHJlc3BvbnNlLmRhdGEpOwogICAgICAgICAgICAgIHRoYXQudGNoRGF0YSA9IHJlc3BvbnNlLmRhdGEuZGF0YUxpc3Q7CgkJCQkJCX0gZWxzZSB7CgkJCQkJCQljb25zb2xlLmxvZygi6I635Y+W5aSx6LSlIiArIHJlc3BvbnNlLmRhdGEpOwoJCQkJCQkJYWxlcnQoIuiOt+WPluWksei0pe+8jOivt+ajgOafpee9kee7nCIpOwoJCQkJCQl9CgkJCQkJfSBlbHNlIHsKCQkJCQkJY29uc29sZS5sb2coIuiOt+WPluWksei0pSIgKyByZXNwb25zZS5kYXRhKTsKCQkJCQkJYWxlcnQoIuiOt+WPluWksei0pe+8jOivt+ajgOafpee9kee7nCIpOwoJCQkJCX0KCQkJCX0pOwogICAgfSwKICAgIAogICAgaGFuZGxlQWdyZWUoaW5kZXgsIHJvdykgewogICAgICBjb25zb2xlLmxvZyhpbmRleCwgcm93KTsKICAgICAgYXhpb3MoewoJCQkJCXVybDogJ2h0dHA6Ly8xMjEuNC4xNjAuMTU3L21hbmFnZXIvYXBwcm92ZVRlYWNoZXInLAoJCQkJCW1ldGhvZDogJ3Bvc3QnLAoJCQkJCWRhdGE6IHsKICAgICAgICAgICAgbWFuYWdlcklkOiBsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgndWlkJyksCiAgICAgICAgICAgIHRlYWNoZXJJZDogcm93LnVpZCwKICAgICAgICAgICAgc3RhdHVzOiAiQWNjZXB0IiwKCQkJCQl9CgkJCQl9KS50aGVuKChyZXNwb25zZSkgPT4gewoJCQkJCWlmIChyZXNwb25zZSkgewoJCQkJCQlpZiAocmVzcG9uc2UuZGF0YS5lcnJvcl9jb2RlID09PSAwKSB7CgkJCQkJCQljb25zb2xlLmxvZygi5bey5re75Yqg6K+l5pWZ5biIIik7CiAgICAgICAgICAgICAgYWxlcnQoIuW3sua3u+WKoOivpeaVmeW4iCIpOwogICAgICAgICAgICAgIHRoaXMucmVsb2FkKCkKCQkJCQkJfSBlbHNlIHsKCQkJCQkJCWNvbnNvbGUubG9nKCLlrqHmibnlpLHotKUiICsgcmVzcG9uc2UuZGF0YSk7CgkJCQkJCQlhbGVydCgiZXJyb3IiICsgcmVzcG9uc2UuZGF0YS5lcnJvcl9jb2RlKTsKCQkJCQkJfQoJCQkJCX0gZWxzZSB7CgkJCQkJCWNvbnNvbGUubG9nKCLlrqHmibnlpLHotKXvvIzor7fmo4Dmn6XnvZHnu5wiICsgcmVzcG9uc2UuZGF0YSk7CgkJCQkJCWFsZXJ0KCLlrqHmibnlpLHotKXvvIzor7fmo4Dmn6XnvZHnu5wiKTsKCQkJCQl9CgkJCQl9KTsKICAgIH0sCiAgICBoYW5kbGVSZWZ1c2UoaW5kZXgsIHJvdykgewogICAgICBjb25zb2xlLmxvZyhpbmRleCwgcm93KTsKICAgICAgYXhpb3MoewoJCQkJCXVybDogJ2h0dHA6Ly8xMjEuNC4xNjAuMTU3L21hbmFnZXIvYXBwcm92ZVRlYWNoZXInLAoJCQkJCW1ldGhvZDogJ3Bvc3QnLAoJCQkJCWRhdGE6IHsKICAgICAgICAgICAgbWFuYWdlcklkOiBsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgndWlkJyksCiAgICAgICAgICAgIHRlYWNoZXJJZDogcm93LnVpZCwKICAgICAgICAgICAgc3RhdHVzOiAiUmVmdXNlIiwKCQkJCQl9CgkJCQl9KS50aGVuKChyZXNwb25zZSkgPT4gewoJCQkJCWlmIChyZXNwb25zZSkgewoJCQkJCQlpZiAocmVzcG9uc2UuZGF0YS5lcnJvcl9jb2RlID09PSAwKSB7CgkJCQkJCQljb25zb2xlLmxvZygi5bey5ouS57ud6K+l55Sz6K+3IiwgcmVzcG9uc2UuZGF0YSk7CiAgICAgICAgICAgICAgYWxlcnQoIuW3suaLkue7neivpeeUs+ivtyIpOwogICAgICAgICAgICAgIHRoaXMucmVsb2FkKCkKCQkJCQkJfSBlbHNlIHsKCQkJCQkJCWNvbnNvbGUubG9nKCLlrqHmibnlpLHotKUiICsgcmVzcG9uc2UuZGF0YSk7CgkJCQkJCQlhbGVydCgiZXJyb3IiICsgcmVzcG9uc2UuZGF0YS5lcnJvcl9jb2RlKTsKCQkJCQkJfQoJCQkJCX0gZWxzZSB7CgkJCQkJCWNvbnNvbGUubG9nKCLlrqHmibnlpLHotKXvvIzor7fmo4Dmn6XnvZHnu5wiICsgcmVzcG9uc2UuZGF0YSk7CgkJCQkJCWFsZXJ0KCLlrqHmibnlpLHotKXvvIzor7fmo4Dmn6XnvZHnu5wiKTsKCQkJCQl9CgkJCQl9KTsKICAgIH0sCgogIH0sCn07Cg=="},{"version":3,"sources":["AddTeacher.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAuCA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA","file":"AddTeacher.vue","sourceRoot":"src/views/manager_views","sourcesContent":["<template>\n  <div>\n    <TeacherHeadBar></TeacherHeadBar>\n    <el-container>\n      <el-aside width=\"20%\" style=\"min-height: 600px;\" >\n        <TeacherMenu></TeacherMenu>\n      </el-aside>\n      <el-main width=\"75%\">\n        <div class=\"title\">教师添加</div>\n        <div style=\"margin: 0 auto; margin-top: 20px; align-items: center;\">\n          <el-card class=\"box-card\" style=\"width: 90%\">\n              <el-table :data=\"tchData\" style=\"width: 100%\" border>\n                <el-table-column align=\"center\" prop=\"name\" label=\"教师信息\" min-width=\"150\"></el-table-column>\n                <el-table-column align=\"center\" prop=\"teacherId\" label=\"工号\" min-width=\"170\"></el-table-column>\n                <el-table-column align=\"center\" prop=\"acc\" label=\"邮箱\" min-width=\"170\"></el-table-column>\n                <el-table-column align=\"center\" label=\"操作\" min-width=\"200\">\n                  <template slot-scope=\"scope\">\n                    <el-button\n                      size=\"mini\"\n                      type=\"success\"\n                      plain\n                      @click=\"handleAgree(scope.$index, scope.row)\">同意添加</el-button>\n                    <el-button\n                      size=\"mini\"\n                      type=\"danger\"\n                      plain\n                      @click=\"handleRefuse(scope.$index, scope.row)\">拒绝添加</el-button>\n                  </template>\n                </el-table-column>\n              </el-table>\n          </el-card>\n        </div>\n      </el-main>\n      <el-aside width=\"5%\"></el-aside>\n    </el-container>\n  </div>\n</template>\n\n<script>\nimport TeacherHeadBar from \"@/components/TeacherHeadBar\";\nimport TeacherMenu from \"@/components/TeacherMenu\";\nimport axios from \"axios\";\n\nexport default {\n  inject: ['reload'],\n  components:{TeacherHeadBar,TeacherMenu},\n  mounted(){\n    this.loadTable()\n  },\n  data() {\n    return {\n      tchData:[{\n        name:'',\n        teacherId:'',\n        acc:'',\n        uid:'',\n      }],\n    };\n  },\n  methods: {\n    loadTable(){\n        let that = this;\n        axios({\n          method:'post',\n          url: 'http://121.4.160.157/manager/getTeacherApproveList',\n          data: {\n          }\n        })\n        .then((response) => {\n\t\t\t\t\tif (response) {\n\t\t\t\t\t\tif (response.data.error_code === 0) {\n\t\t\t\t\t\t\tconsole.log(\"获取成功\", response.data);\n              that.tchData = response.data.dataList;\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tconsole.log(\"获取失败\" + response.data);\n\t\t\t\t\t\t\talert(\"获取失败，请检查网络\");\n\t\t\t\t\t\t}\n\t\t\t\t\t} else {\n\t\t\t\t\t\tconsole.log(\"获取失败\" + response.data);\n\t\t\t\t\t\talert(\"获取失败，请检查网络\");\n\t\t\t\t\t}\n\t\t\t\t});\n    },\n    \n    handleAgree(index, row) {\n      console.log(index, row);\n      axios({\n\t\t\t\t\turl: 'http://121.4.160.157/manager/approveTeacher',\n\t\t\t\t\tmethod: 'post',\n\t\t\t\t\tdata: {\n            managerId: localStorage.getItem('uid'),\n            teacherId: row.uid,\n            status: \"Accept\",\n\t\t\t\t\t}\n\t\t\t\t}).then((response) => {\n\t\t\t\t\tif (response) {\n\t\t\t\t\t\tif (response.data.error_code === 0) {\n\t\t\t\t\t\t\tconsole.log(\"已添加该教师\");\n              alert(\"已添加该教师\");\n              this.reload()\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tconsole.log(\"审批失败\" + response.data);\n\t\t\t\t\t\t\talert(\"error\" + response.data.error_code);\n\t\t\t\t\t\t}\n\t\t\t\t\t} else {\n\t\t\t\t\t\tconsole.log(\"审批失败，请检查网络\" + response.data);\n\t\t\t\t\t\talert(\"审批失败，请检查网络\");\n\t\t\t\t\t}\n\t\t\t\t});\n    },\n    handleRefuse(index, row) {\n      console.log(index, row);\n      axios({\n\t\t\t\t\turl: 'http://121.4.160.157/manager/approveTeacher',\n\t\t\t\t\tmethod: 'post',\n\t\t\t\t\tdata: {\n            managerId: localStorage.getItem('uid'),\n            teacherId: row.uid,\n            status: \"Refuse\",\n\t\t\t\t\t}\n\t\t\t\t}).then((response) => {\n\t\t\t\t\tif (response) {\n\t\t\t\t\t\tif (response.data.error_code === 0) {\n\t\t\t\t\t\t\tconsole.log(\"已拒绝该申请\", response.data);\n              alert(\"已拒绝该申请\");\n              this.reload()\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tconsole.log(\"审批失败\" + response.data);\n\t\t\t\t\t\t\talert(\"error\" + response.data.error_code);\n\t\t\t\t\t\t}\n\t\t\t\t\t} else {\n\t\t\t\t\t\tconsole.log(\"审批失败，请检查网络\" + response.data);\n\t\t\t\t\t\talert(\"审批失败，请检查网络\");\n\t\t\t\t\t}\n\t\t\t\t});\n    },\n\n  },\n};\n</script>\n\n<style scoped>\n  .box-card{\n    margin-left: 100px;\n  }\n  .title {\n    color: rgb(204, 122, 0);\n    margin-bottom: 40px;\n    font-family: 微软雅黑;\n    word-wrap: break-word;\n    /* text-align: left; */\n    font-size: 25px;\n    font-weight: bold;\n  }\n</style>\n"]}]}