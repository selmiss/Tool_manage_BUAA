{"remainingRequest":"D:\\Desktop\\git_clong\\Tool_manage_BUAA\\前端文件\\node_modules\\babel-loader\\lib\\index.js!D:\\Desktop\\git_clong\\Tool_manage_BUAA\\前端文件\\node_modules\\cache-loader\\dist\\cjs.js??ref--1-0!D:\\Desktop\\git_clong\\Tool_manage_BUAA\\前端文件\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\Desktop\\git_clong\\Tool_manage_BUAA\\前端文件\\src\\views\\manager_views\\UserRecord.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\Desktop\\git_clong\\Tool_manage_BUAA\\前端文件\\src\\views\\manager_views\\UserRecord.vue","mtime":1673708615671},{"path":"D:\\Desktop\\git_clong\\Tool_manage_BUAA\\前端文件\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1673701897175},{"path":"D:\\Desktop\\git_clong\\Tool_manage_BUAA\\前端文件\\node_modules\\babel-loader\\lib\\index.js","mtime":1673701896619},{"path":"D:\\Desktop\\git_clong\\Tool_manage_BUAA\\前端文件\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1673701897175},{"path":"D:\\Desktop\\git_clong\\Tool_manage_BUAA\\前端文件\\node_modules\\vue-loader\\lib\\index.js","mtime":1673701901619},{"path":"D:\\Desktop\\git_clong\\Tool_manage_BUAA\\前端文件\\babel.config.js","mtime":1673701895436},{"path":"D:\\Desktop\\git_clong\\Tool_manage_BUAA\\前端文件\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1673701897175},{"path":"D:\\Desktop\\git_clong\\Tool_manage_BUAA\\前端文件\\node_modules\\babel-loader\\lib\\index.js","mtime":1673701896619},{"path":"D:\\Desktop\\git_clong\\Tool_manage_BUAA\\前端文件\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1673701897175},{"path":"D:\\Desktop\\git_clong\\Tool_manage_BUAA\\前端文件\\node_modules\\vue-loader\\lib\\index.js","mtime":1673701901619}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KaW1wb3J0IFRlYWNoZXJIZWFkQmFyIGZyb20gIkAvY29tcG9uZW50cy9UZWFjaGVySGVhZEJhciI7CmltcG9ydCBUZWFjaGVyTWVudSBmcm9tICJAL2NvbXBvbmVudHMvVGVhY2hlck1lbnUiOwppbXBvcnQgYXhpb3MgZnJvbSAiYXhpb3MiOwpleHBvcnQgZGVmYXVsdCB7CiAgY29tcG9uZW50czogewogICAgVGVhY2hlckhlYWRCYXI6IFRlYWNoZXJIZWFkQmFyLAogICAgVGVhY2hlck1lbnU6IFRlYWNoZXJNZW51CiAgfSwKICBpbmplY3Q6IFsncmVsb2FkJ10sCiAgbW91bnRlZDogZnVuY3Rpb24gbW91bnRlZCgpIHsKICAgIHRoaXMubG9hZE1lc3NhZ2UoKTsKICB9LAogIGRhdGE6IGZ1bmN0aW9uIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICBkaWFsb2dGb3JtVmlzaWJsZTogZmFsc2UsCiAgICAgIHRhYmxlUmVjb3JkRGF0YTogW3sKICAgICAgICB0b29sTmFtZTogIiIsCiAgICAgICAgc3RhcnRUaW1lOiAiIiwKICAgICAgICByZXR1cm5UaW1lOiAiIiwKICAgICAgICByZXF1ZXN0SWQ6ICIiLAogICAgICAgIHN0YXR1czogIiIKICAgICAgfV0sCiAgICAgIHRhYmxlRGF0YTogW3sKICAgICAgICB1aWQ6ICcnLAogICAgICAgIG5hbWU6ICcnLAogICAgICAgIHBob25lTnVtYmVyOiAnJywKICAgICAgICBjb2xsZWdlOiAnJywKICAgICAgICBzdHVkZW50SWQ6ICcnCiAgICAgIH1dCiAgICB9OwogIH0sCiAgbWV0aG9kczogewogICAgaGFuZGxlQ3JlYXRlOiBmdW5jdGlvbiBoYW5kbGVDcmVhdGUocm93KSB7CiAgICAgIC8v5omT5byA5by556qXCiAgICAgIHRoaXMuZGlhbG9nRm9ybVZpc2libGUgPSB0cnVlOwogICAgICB2YXIgdGhhdCA9IHRoaXM7CiAgICAgIGNvbnNvbGUubG9nKHJvdy51aWQpOwogICAgICBheGlvcyh7CiAgICAgICAgdXJsOiAnbWFuYWdlci9hbGxCb3Jyb3dMaXN0JywKICAgICAgICBtZXRob2Q6ICdwb3N0JywKICAgICAgICBkYXRhOiB7CiAgICAgICAgICB1aWQ6IC0yLAogICAgICAgICAgc3R1X3VpZDogcm93LnVpZAogICAgICAgIH0KICAgICAgfSkudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHsKICAgICAgICBpZiAocmVzcG9uc2UpIHsKICAgICAgICAgIGlmIChyZXNwb25zZS5kYXRhLmVycm9yX2NvZGUgPT09IDApIHsKICAgICAgICAgICAgY29uc29sZS5sb2coIuiOt+WPluaIkOWKnyIsIHJlc3BvbnNlLmRhdGEpOwogICAgICAgICAgICB0aGF0LnRhYmxlUmVjb3JkRGF0YSA9IHJlc3BvbnNlLmRhdGEucmVxdWVzdExpc3Q7CiAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICBjb25zb2xlLmxvZygi6I635Y+W5aSx6LSlIiArIHJlc3BvbnNlLmRhdGEpOwogICAgICAgICAgICBhbGVydChyb3cudWlkICsgIiDojrflj5blpLHotKUsZXJyb3I6ICIgKyByZXNwb25zZS5kYXRhLmVycm9yX2NvZGUpOwogICAgICAgICAgfQogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICBjb25zb2xlLmxvZygi6I635Y+W5aSx6LSlIiArIHJlc3BvbnNlLmRhdGEpOwogICAgICAgICAgYWxlcnQoIuiOt+WPluWksei0pe+8jOivt+ajgOafpee9kee7nCIpOwogICAgICAgIH0KICAgICAgfSk7CiAgICB9LAogICAgZGVsZXRlVXNlcjogZnVuY3Rpb24gZGVsZXRlVXNlcihyb3cpIHsKICAgICAgdmFyIF90aGlzID0gdGhpczsKCiAgICAgIGNvbnNvbGUubG9nKHJvdyk7CiAgICAgIHZhciB0aGF0ID0gdGhpczsKICAgICAgdmFyIGkgPSByb3cudWlkOwogICAgICBheGlvcyh7CiAgICAgICAgdXJsOiAnbWFuYWdlci9kZWxldGVTdHVkZW50JywKICAgICAgICBtZXRob2Q6ICdwb3N0JywKICAgICAgICBkYXRhOiB7CiAgICAgICAgICB1aWQ6IC0yLAogICAgICAgICAgc3R1X3VpZDogaQogICAgICAgIH0KICAgICAgfSkudGhlbihmdW5jdGlvbiAocmVzKSB7CiAgICAgICAgX3RoaXMucmVsb2FkKCk7CgogICAgICAgIGFsZXJ0KCflt7LliKDpmaTor6XnlKjmiLcnKTsKICAgICAgfSk7CiAgICB9LAogICAgbG9hZE1lc3NhZ2U6IGZ1bmN0aW9uIGxvYWRNZXNzYWdlKCkgewogICAgICB2YXIgX3RoaXMyID0gdGhpczsKCiAgICAgIHZhciB0aGF0ID0gdGhpczsKICAgICAgYXhpb3MoewogICAgICAgIHVybDogJ21hbmFnZXIvZ2V0U3R1ZGVudExpc3QnLAogICAgICAgIG1ldGhvZDogJ3Bvc3QnLAogICAgICAgIGRhdGE6IHt9CiAgICAgIH0pLnRoZW4oZnVuY3Rpb24gKHJlcykgewogICAgICAgIGNvbnNvbGUubG9nKHJlcyk7CiAgICAgICAgX3RoaXMyLnRhYmxlRGF0YSA9IHJlcy5kYXRhLmRhdGFMaXN0OwogICAgICB9KTsKICAgIH0KICB9Cn07"},{"version":3,"sources":["UserRecord.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\r\n  <div>\r\n    <TeacherHeadBar></TeacherHeadBar>\r\n    <el-container>\r\n      <el-aside width=\"20%\" style=\"min-height: 600px;\" >\r\n        <TeacherMenu></TeacherMenu>\r\n      </el-aside>\r\n      <el-main width=\"75%\">\r\n        <div class=\"title\" style=\"margin-top: 20px\">用户记录表</div>\r\n        <div style=\"margin: 0 auto; margin-top: 20px; align-items: center;\">\r\n          <el-card class=\"box-card\" style=\"width: 80%\">\r\n              <el-table :data=\"tableData\" style=\"width: 100%\" border>\r\n                <el-table-column type=\"index\" :index=\"indexMethod\" align=\"center\"></el-table-column>\r\n                <el-table-column align=\"center\" prop=\"name\" label=\"用户名\" min-width=\"50\"></el-table-column>\r\n                <el-table-column align=\"center\" prop=\"phoneNumber\" label=\"手机号\" min-width=\"80\"></el-table-column>\r\n                <el-table-column align=\"center\" prop=\"studentId\" label=\"学号\" min-width=\"60\"> </el-table-column>\r\n                <el-table-column align=\"center\" prop=\"college\" label=\"学院\" min-width=\"50\"> </el-table-column>\r\n                <el-table-column align=\"center\" label=\"操作\" min-width=\"160\">\r\n                  <template  slot-scope=\"scope\">\r\n                    <el-button type=\"primary\" plain  @click=\"handleCreate(scope.row)\">查看记录</el-button>\r\n                    <el-button type=\"danger\" plain @click=\"deleteUser(scope.row)\">删除用户</el-button>\r\n                    <el-dialog :visible.sync=\"dialogFormVisible\">\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\t\r\n                      <div class=\"title\" style=\"margin-top: 0px\">工具借用记录表</div>\r\n                      <div style=\"margin: 0 auto; align-items: center;\">\r\n\t\t\t\t\t\t  \r\n\t\t\t\t\t\t  \r\n                        <el-card class=\"box-card\" style=\"width: 80%\">\r\n                            <el-table :data=\"tableRecordData\" style=\"width: 100%\" border>\r\n                              <el-table-column align=\"center\" prop=\"toolName\" label=\"工具名称\" min-width=\"120\"></el-table-column>\r\n                              <el-table-column align=\"center\" prop=\"startTime\" label=\"借用开始时间\" min-width=\"100\"></el-table-column>\r\n                              <el-table-column align=\"center\" prop=\"returnTime\" label=\"最晚归还时间\" min-width=\"100\"> </el-table-column>\r\n                              <el-table-column align=\"center\" label=\"状态\" min-width=\"120\"> \r\n                                <template slot-scope=\"scope\">\r\n                                  <el-button v-if=\"scope.row.status === 'A'\" size=\"mini\" type=\"warning\" >工具借用中</el-button>\r\n                                  <el-button v-if=\"scope.row.status === 'W'\" size=\"mini\" type=\"primary\" >等待审核中</el-button>\r\n                                  <el-button v-if=\"scope.row.status === 'R'\" size=\"mini\" type=\"danger\" >申请被拒绝</el-button>\r\n                                  <el-button v-if=\"scope.row.status === 'F'\" size=\"mini\" type=\"success\" >工具已归还</el-button>\r\n                                </template>\r\n                              </el-table-column>\r\n                            </el-table>\r\n                        </el-card>\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\t\r\n                      </div>\r\n                    </el-dialog>\r\n                  </template>\r\n                </el-table-column>\r\n              </el-table>\r\n          </el-card>\r\n        </div>\r\n      </el-main>\r\n      <el-aside width=\"5%\"></el-aside>\r\n    </el-container>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport TeacherHeadBar from \"@/components/TeacherHeadBar\";\r\nimport TeacherMenu from \"@/components/TeacherMenu\";\r\nimport axios from \"axios\";\r\n\r\nexport default {\r\n  components:{TeacherHeadBar,TeacherMenu},\r\n  inject: ['reload'],\r\n  mounted() {\r\n    this.loadMessage()\r\n  },\r\n  data() {\r\n    return {\r\n      dialogFormVisible: false,\r\n      tableRecordData: [\r\n        {\r\n          toolName: \"\",\r\n          startTime:\"\",\r\n          returnTime: \"\",\r\n          requestId: \"\",\r\n          status: \"\",\r\n        },\r\n      ],\r\n      tableData: [\r\n        {\r\n          uid:'',\r\n          name:'',\r\n          phoneNumber:'',\r\n          college:'',\r\n          studentId:'',\r\n        },\r\n      ],\r\n    };\r\n  },\r\n  methods: {\r\n    handleCreate(row) {\r\n      //打开弹窗\r\n      this.dialogFormVisible = true;\r\n      let that = this;\r\n\t  console.log(row.uid)\r\n      axios({\r\n        url: 'manager/allBorrowList',\r\n        method: 'post',\r\n        data: {\r\n\t\t\tuid: -2,\r\n          stu_uid : row.uid,\r\n        }\r\n      }).then((response) => {\r\n        if (response) {\r\n          if (response.data.error_code === 0) {\r\n            console.log(\"获取成功\", response.data);\r\n            that.tableRecordData = response.data.requestList;\r\n          } else {\r\n            console.log(\"获取失败\" + response.data);\r\n            alert(row.uid + \" 获取失败,error: \" + response.data.error_code);\r\n          }\r\n        } else {\r\n          console.log(\"获取失败\" + response.data);\r\n          alert(\"获取失败，请检查网络\");\r\n        }\r\n      });\r\n    },\r\n\t\r\n\t\r\n    deleteUser(row){\r\n      console.log(row);\r\n      let that = this;\r\n      var i = row.uid;\r\n      axios({\r\n        url:'manager/deleteStudent',\r\n        method:'post',\r\n        data: {\r\n\t\t\tuid:-2,\r\n          stu_uid : i,\r\n        }\r\n      }).then((res) => {\r\n        this.reload();\r\n        alert('已删除该用户');\r\n      })\r\n    },\r\n\t\r\n\t\r\n    loadMessage() {\r\n\t\t\t\tlet that = this;\r\n\t\t\t\taxios({\r\n\t\t\t\t\turl: 'manager/getStudentList',\r\n\t\t\t\t\tmethod: 'post',\r\n\t\t\t\t\tdata: {\r\n\t\t\t\t\t}\r\n\t\t\t\t}).then((res) => {\r\n          console.log(res);\r\n          this.tableData = res.data.dataList;\r\n\t\t\t\t});\r\n\t\t},\r\n  }\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n  .header{\r\n    height: 50px;\r\n    display: flex;\r\n    color: aqua;\r\n  }\r\n  .box-card{\r\n    margin-left: 100px;\r\n  }\r\n  .title {\r\n    color: rgb(204, 116, 0);\r\n    margin-bottom: 20px;\r\n    font-family: 微软雅黑;\r\n    word-wrap: break-word;\r\n    /* text-align: left; */\r\n    font-size: 25px;\r\n    font-weight: bold;\r\n  }\r\n  .el-table{\r\n    width: 100%;\r\n  }\r\n</style>"],"sourceRoot":"src/views/manager_views"}]}