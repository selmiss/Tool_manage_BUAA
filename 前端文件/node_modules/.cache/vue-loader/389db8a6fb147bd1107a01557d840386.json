{"remainingRequest":"D:\\Desktop\\git_clong\\Tool_manage_BUAA\\前端文件\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\Desktop\\git_clong\\Tool_manage_BUAA\\前端文件\\src\\views\\teacher_views\\BorrowProcessing.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\Desktop\\git_clong\\Tool_manage_BUAA\\前端文件\\src\\views\\teacher_views\\BorrowProcessing.vue","mtime":1673235199937},{"path":"D:\\Desktop\\git_clong\\Tool_manage_BUAA\\前端文件\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1672919902432},{"path":"D:\\Desktop\\git_clong\\Tool_manage_BUAA\\前端文件\\node_modules\\babel-loader\\lib\\index.js","mtime":1672919901909},{"path":"D:\\Desktop\\git_clong\\Tool_manage_BUAA\\前端文件\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1672919902432},{"path":"D:\\Desktop\\git_clong\\Tool_manage_BUAA\\前端文件\\node_modules\\vue-loader\\lib\\index.js","mtime":1672919906189}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KDQppbXBvcnQgYXhpb3MgZnJvbSAiYXhpb3MiOw0KaW1wb3J0IFRlYWNoZXJIZWFkQmFyIGZyb20gIkAvY29tcG9uZW50cy9UZWFjaGVySGVhZEJhciI7DQppbXBvcnQgVGVhY2hlck1lbnUgZnJvbSAiQC9jb21wb25lbnRzL1RlYWNoZXJNZW51IjsNCmV4cG9ydCBkZWZhdWx0IHsNCiAgaW5qZWN0OiBbJ3JlbG9hZCddLA0KICBjb21wb25lbnRzOntUZWFjaGVySGVhZEJhcixUZWFjaGVyTWVudX0sDQogIG1vdW50ZWQoKSB7DQogICAgdGhpcy5sb2FkTWVzc2FnZSgpDQogIH0sDQogIGRhdGEoKSB7DQogICAgcmV0dXJuIHsNCiAgICAgIHN0YXJ0VGltZTogJycsDQogICAgICBlbmRUaW1lOiAnJywNCiAgICAgIGRpYWxvZ0Zvcm1WaXNpYmxlOiBmYWxzZSwNCiAgICAgIGRpYWxvZ0Zvcm1WaXNpYmxlMjogZmFsc2UsDQogICAgICBmb3JtRGF0YTp7DQogICAgICAgIHJlZnVzZVJlYXNvbjoiIiwNCiAgICAgIH0sDQogICAgICBmb3JtQWdyZWU6ew0KICAgICAgICBhZGRyZXNzOiIiLA0KICAgICAgICBnZXREYXRlOiAiIiwNCiAgICAgIH0sDQogICAgICBib3Jyb3dMaXN0OiBbDQogICAgICAgIHsNCiAgICAgICAgICB0b29sTmFtZTogIiIsDQogICAgICAgICAgcmVxdWVzdFVzZXJOYW1lOiIiLA0KICAgICAgICAgIHN0YXJ0VGltZToiIiwNCiAgICAgICAgICBib3Jyb3dUaW1lOiAiIiwNCiAgICAgICAgICByZXR1cm5UaW1lOiAiIiwNCiAgICAgICAgICBzdHVpZDoiIiwNCiAgICAgICAgICBzdHVDb2xsZWdlOiIiLA0KICAgICAgICAgIHVzZXJJZDoiIiwNCiAgICAgICAgICBwaG9uZU51bWJlcjogIiIsDQogICAgICAgICAgcHVycG9zZTogIiIsDQogICAgICAgICAgc3R1RW1haWw6ICIiLA0KICAgICAgICAgIGJvcnJvd0NvdW50OiAiIiwNCiAgICAgICAgfQ0KICAgICAgXSwNCgkgIHJvd1N0b3JlOiBudWxsLA0KICAgIH07DQogIH0sDQogIG1ldGhvZHM6IHsNCiAgICBoYW5kbGVDcmVhdGUocm93KSB7DQoJCXRoaXMucm93U3RvcmU9cm93DQogICAgICB0aGlzLmZvcm1EYXRhID0gew0KICAgICAgICByZWZ1c2VSZWFzb246ICIiLA0KICAgICAgfSwNCiAgICAgIHRoaXMuZGlhbG9nRm9ybVZpc2libGUgPSB0cnVlOw0KICAgIH0sDQogICAgaGFuZGxlQ3JlYXRlMihyb3cpIHsNCgkJdGhpcy5yb3dTdG9yZT1yb3c7DQogICAgICB0aGlzLmZvcm1BZ3JlZSA9IHsNCiAgICAgICAgYWRkcmVzczoi5bel56iL6K6t57uD5Lit5b+D5Y2XMjA4IiwNCiAgICAgIH0sDQogICAgICB0aGlzLmRpYWxvZ0Zvcm1WaXNpYmxlMiA9IHRydWU7DQogICAgfSwNCiAgICBoYW5kbGVBZ3JlZShpbmRleCkgew0KCQl2YXIgcm93PXRoaXMucm93U3RvcmU7DQogICAgICBjb25zb2xlLmxvZyhpbmRleCwgcm93KTsNCiAgICAgIGF4aW9zKHsNCgkJCQkJdXJsOiAnaHR0cDovLzEyMS40LjE2MC4xNTcvbWFuYWdlci9hcHByb3ZlQm9ycm93UmVxdWVzdCcsDQoJCQkJCW1ldGhvZDogJ3Bvc3QnLA0KCQkJCQlkYXRhOiB7DQogICAgICAgICAgICByZXF1ZXN0SWQ6IHJvdy5yZXF1ZXN0SWQsDQogICAgICAgICAgICBzdGF0dXM6ICJBY2NlcHQiLA0KICAgICAgICAgICAgaXNDaGFuZ2VUaW1lOiAiZmFsc2UiLA0KICAgICAgICAgICAgY2hhbmdlVGltZTogIiIsDQogICAgICAgICAgICByZWZ1c2VSZWFzb246ICIiLA0KICAgICAgICAgICAgZ2V0RGF0ZTogdGhpcy5mb3JtQWdyZWUuZ2V0RGF0ZSwNCiAgICAgICAgICAgIHN0YXJ0VGltZTogdGhpcy5zdGFydFRpbWUsDQogICAgICAgICAgICBlbmRUaW1lOiB0aGlzLmVuZFRpbWUsDQogICAgICAgICAgICBhZGRyZXNzOiB0aGlzLmZvcm1BZ3JlZS5hZGRyZXNzLA0KCQkJCQl9DQoJCQkJfSkudGhlbigocmVzcG9uc2UpID0+IHsNCgkJCQkJaWYgKHJlc3BvbnNlKSB7DQoJCQkJCQlpZiAocmVzcG9uc2UuZGF0YS5lcnJvcl9jb2RlID09PSAwKSB7DQoJCQkJCQkJY29uc29sZS5sb2coIuW3suWQjOaEj+WAn+eUqOeUs+ivtyIsIHJlc3BvbnNlLmRhdGEpOw0KICAgICAgICAgICAgICBhbGVydCgi5bey5ZCM5oSP6K+l5ZCM5a2m55qE5YCf55So55Sz6K+377yM6K+l6K6+5aSH5pyA5pma5LqOIiArIHJvdy5yZXR1cm5UaW1lICsgIuW9kui/mCIpOw0KICAgICAgICAgICAgICB0aGlzLnJlbG9hZCgpDQoJCQkJCQl9IGVsc2UgaWYgKHJlc3BvbnNlLmRhdGEuZXJyb3JfY29kZSA9PT0gNSl7DQogICAgICAgICAgICAgIGFsZXJ0KCLor6Xorr7lpIfmlbDph4/kuI3otrPvvIzor7fmi5Lnu53or6XnlLPor7fvvIEiKTsNCiAgICAgICAgICAgIH1lbHNlIHsNCgkJCQkJCQljb25zb2xlLmxvZygi5a6h5om55aSx6LSlIiArIHJlc3BvbnNlLmRhdGEpOw0KCQkJCQkJCWFsZXJ0KCJlcnJvcjogIiArIHJlc3BvbnNlLmRhdGEuZXJyb3JfY29kZSk7DQoJCQkJCQl9DQoJCQkJCX0gZWxzZSB7DQoJCQkJCQljb25zb2xlLmxvZygiZXJyb3IiICsgcmVzcG9uc2UuZGF0YSk7DQoJCQkJCQlhbGVydCgiZXJyb3IiICsgcmVzcG9uc2UuZGF0YS5lcnJvcl9jb2RlKTsNCgkJCQkJfQ0KCQkJCX0pOw0KICAgIH0sDQogICAgaGFuZGxlUmVmdXNlKGluZGV4KSB7DQoJCXZhciByb3c9dGhpcy5yb3dTdG9yZTsNCiAgICAgIGNvbnNvbGUubG9nKHRoaXMuZm9ybURhdGEucmVmdXNlUmVhc29uKTsNCiAgICAgIGF4aW9zKHsNCgkJCQkJdXJsOiAnaHR0cDovLzEyMS40LjE2MC4xNTcvbWFuYWdlci9hcHByb3ZlQm9ycm93UmVxdWVzdCcsDQoJCQkJCW1ldGhvZDogJ3Bvc3QnLA0KCQkJCQlkYXRhOiB7DQogICAgICAgICAgICByZXF1ZXN0SWQ6IHJvdy5yZXF1ZXN0SWQsDQogICAgICAgICAgICBzdGF0dXM6ICJSZWZ1c2UiLA0KICAgICAgICAgICAgaXNDaGFuZ2VUaW1lOiAiZmFsc2UiLA0KICAgICAgICAgICAgY2hhbmdlVGltZTogbnVsbCwNCiAgICAgICAgICAgIHJlZnVzZVJlYXNvbjogdGhpcy5mb3JtRGF0YS5yZWZ1c2VSZWFzb24sDQogICAgICAgICAgICBnZXREYXRlOiAiIiwNCiAgICAgICAgICAgIHN0YXJ0VGltZTogIiIsDQogICAgICAgICAgICBlbmRUaW1lOiAiIiwNCiAgICAgICAgICAgIGFkZHJlc3M6ICIiLA0KCQkJCQl9DQoJCQkJfSkudGhlbigocmVzcG9uc2UpID0+IHsNCgkJCQkJaWYgKHJlc3BvbnNlKSB7DQogICAgICAgICAgICBjb25zb2xlLmxvZygicmVqZWN0cHVycG9zZTogIix0aGlzLmZvcm1EYXRhLnJlZnVzZVJlYXNvbik7DQoJCQkJCQlpZiAocmVzcG9uc2UuZGF0YS5lcnJvcl9jb2RlID09PSAwKSB7DQoJCQkJCQkJY29uc29sZS5sb2coIuW3suaLkue7neivpeeUs+ivtyIsIHJlc3BvbnNlLmRhdGEpOw0KICAgICAgICAgICAgICBhbGVydCgi5bey5ouS57ud6K+l55Sz6K+3Iik7DQogICAgICAgICAgICAgIHRoaXMucmVsb2FkKCkNCgkJCQkJCX0gZWxzZSB7DQoJCQkJCQkJY29uc29sZS5sb2coIuWuoeaJueWksei0pSIgKyByZXNwb25zZS5kYXRhKTsNCgkJCQkJCQlhbGVydCgiZXJyb3I6ICIgKyByZXNwb25zZS5kYXRhLmVycm9yX2NvZGUpOw0KCQkJCQkJfQ0KCQkJCQl9IGVsc2Ugew0KCQkJCQkJY29uc29sZS5sb2coIuWuoeaJueWksei0pe+8jOivt+ajgOafpee9kee7nCIgKyByZXNwb25zZS5kYXRhKTsNCgkJCQkJCWFsZXJ0KCLlrqHmibnlpLHotKXvvIzor7fmo4Dmn6XnvZHnu5wiKTsNCgkJCQkJfQ0KCQkJCX0pOw0KICAgIH0sDQogICAgbG9hZE1lc3NhZ2UoKSB7DQoJCQkJbGV0IHRoYXQgPSB0aGlzOw0KCQkJCWF4aW9zKHsNCgkJCQkJdXJsOiAnaHR0cDovLzEyMS40LjE2MC4xNTcvbWFuYWdlci9nZXRUb29sUmVxdWVzdExpc3QnLA0KCQkJCQltZXRob2Q6ICdwb3N0JywNCgkJCQkJZGF0YTogew0KCQkJCQl9DQoJCQkJfSkudGhlbigocmVzcG9uc2UpID0+IHsNCgkJCQkJaWYgKHJlc3BvbnNlKSB7DQoJCQkJCQlpZiAocmVzcG9uc2UuZGF0YS5lcnJvcl9jb2RlID09PSAwKSB7DQoJCQkJCQkJY29uc29sZS5sb2coIuiOt+WPluaIkOWKnyIsIHJlc3BvbnNlLmRhdGEpOw0KICAgICAgICAgICAgICB0aGF0LmJvcnJvd0xpc3QgPSByZXNwb25zZS5kYXRhLmRhdGFMaXN0Ow0KCQkJCQkJfSBlbHNlIHsNCgkJCQkJCQljb25zb2xlLmxvZygi6I635Y+W5aSx6LSlIiArIHJlc3BvbnNlLmRhdGEpOw0KCQkJCQkJCWFsZXJ0KCLojrflj5blpLHotKXvvIzor7fmo4Dmn6XnvZHnu5wiKTsNCgkJCQkJCX0NCgkJCQkJfSBlbHNlIHsNCgkJCQkJCWNvbnNvbGUubG9nKCLojrflj5blpLHotKUiICsgcmVzcG9uc2UuZGF0YSk7DQoJCQkJCQlhbGVydCgi6I635Y+W5aSx6LSl77yM6K+35qOA5p+l572R57ucIik7DQoJCQkJCX0NCgkJCQl9KTsNCgkJfSwNCiAgfQ0KfTsNCg=="},{"version":3,"sources":["BorrowProcessing.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAwIA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"BorrowProcessing.vue","sourceRoot":"src/views/teacher_views","sourcesContent":["<template>\r\n  <div>\r\n    <TeacherHeadBar></TeacherHeadBar>\r\n    <el-container>\r\n      <el-aside width=\"20%\" style=\"min-height: 600px;\" >\r\n        <TeacherMenu></TeacherMenu>\r\n      </el-aside>\r\n      <el-main width=\"75%\">\r\n        <div class=\"title\">待审批借用申请</div>\r\n        <div style=\"margin: 0 auto; margin-top: 20px; align-items: center;\">\r\n          <el-card class=\"box-card\" style=\"width: 100%\">\r\n              <el-table :data=\"borrowList\" style=\"width: 100%\" border>\r\n                <el-table-column align=\"center\" prop=\"toolName\" label=\"工具名称\" min-width=\"110\"></el-table-column>\r\n                <el-table-column align=\"center\" prop=\"borrowCount\" label=\"借用数量\" min-width=\"110\"></el-table-column>\r\n                <el-table-column align=\"center\" label=\"借用者信息\" min-width=\"110\">\r\n                  <template slot-scope=\"scope\">\r\n                    <el-popover\r\n                      placement=\"bottom\"\r\n                      width=\"250\"\r\n                      trigger=\"hover\">\r\n                      <div>{{ scope.row.requestUserName }} &nbsp &nbsp &nbsp {{ scope.row.stuid }}</div>\r\n                      <div >学院: &nbsp &nbsp &nbsp &nbsp {{ scope.row.stuCollege }}</div>\r\n                      <div >联系邮箱: &nbsp{{ scope.row.stuEmail }}</div>\r\n                      <div >联系电话: &nbsp{{ scope.row.phoneNumber }}</div>\r\n                      <el-button size=\"mini\" slot=\"reference\">{{ scope.row.requestUserName }}</el-button>\r\n                    </el-popover>\r\n                  </template>\r\n                </el-table-column>\r\n                <el-table-column align=\"center\" prop=\"startTime\" label=\"借用开始时间\" min-width=\"100\"></el-table-column>\r\n                <el-table-column align=\"center\" prop=\"returnTime\" label=\"原定归还时间\" min-width=\"100\"> </el-table-column>\r\n                <el-table-column align=\"center\" label=\"操作\" min-width=\"180\">\r\n                  <template slot-scope=\"scope\">\r\n                    <el-popover\r\n                      placement=\"left\"\r\n                      width=\"250\"\r\n                      trigger=\"click\">\r\n                      <div >借用目的: {{ scope.row.purpose }}:</div>\r\n                      <el-button style=\"margin-right:10px;\" size=\"mini\" plain slot=\"reference\" type=\"primary\">查看目的</el-button>\r\n                    </el-popover>\r\n                    <el-button\r\n                      size=\"mini\"\r\n                      type=\"success\"\r\n                      plain\r\n                      @click=\"handleCreate2(scope.row)\">同意借出</el-button>\r\n\r\n                    <el-button\r\n                      size=\"mini\"\r\n                      type=\"danger\"\r\n                      plain\r\n                      @click=\"handleCreate(scope.row)\">拒绝借出</el-button>\r\n\r\n                      <el-dialog :visible.sync=\"dialogFormVisible\">\r\n                      <el-form\r\n                        :model=\"formData\"\r\n                        ref=\"dataForm\"\r\n                        label-position=\"left\"\r\n                        label-width=\"80px\"\r\n                        style=\"width: 300px; margin-left:50px;\">\r\n                        <el-form-item label=\"拒绝原因\">\r\n                          <el-input type=\"textarea\" :rows=\"2\" v-model=\"formData.refuseReason\" placeholder=\"请输入拒绝原因\"></el-input>\r\n                        </el-form-item>\r\n                      </el-form>\r\n                      <div slot=\"footer\" class=\"dialog-footer\">\r\n                        <el-button @click=\"dialogFormVisible = false\">取消</el-button>\r\n                        <el-button type=\"primary\" @click=\"handleRefuse(scope.$index)\">拒绝</el-button>\r\n                      </div>\r\n                    </el-dialog>\r\n\r\n                    <el-dialog :visible.sync=\"dialogFormVisible2\">\r\n                      <el-form\r\n                        :model=\"formAgree\"\r\n                        ref=\"dataForm\"\r\n                        label-position=\"left\"\r\n                        label-width=\"120px\"\r\n                        align=\"left\"\r\n                        style=\"width: 600px; margin-left:50px;\">\r\n\r\n                        <el-form-item label=\"领取工具日期\">\r\n                          <template>\r\n                            <el-date-picker\r\n                              v-model=\"formAgree.getDate\"\r\n                              format=\"yyyy年MM月dd日\"\r\n                              value-format=\"yyyy-MM-dd\"\r\n                              align=\"left\"\r\n                              type=\"date\"\r\n                              placeholder=\"选择日期\"\r\n                              :picker-options=\"pickerOptions\">\r\n                            </el-date-picker>\r\n                          </template>\r\n                        </el-form-item>\r\n                        <el-form-item label=\"领取工具时间\">\r\n                          <template>\r\n                            <el-time-select\r\n                              placeholder=\"起始时间\"\r\n                              v-model=\"startTime\"\r\n                              :picker-options=\"{\r\n                                start: '08:30',\r\n                                step: '00:30',\r\n                                end: '18:30'\r\n                              }\">\r\n                            </el-time-select>\r\n                            <el-time-select\r\n                              placeholder=\"结束时间\"\r\n                              v-model=\"endTime\"\r\n                              :picker-options=\"{\r\n                                start: '08:30',\r\n                                step: '00:30',\r\n                                end: '22:30',\r\n                                minTime: startTime\r\n                              }\">\r\n                            </el-time-select>\r\n                          </template>\r\n                        </el-form-item>\r\n                        \r\n                        <el-form-item label=\"领取工具地点\">\r\n                          <el-input type=\"textarea\" style=\"width:90%\" :rows=\"1\" v-model=\"formAgree.address\" placeholder=\"请输入领取工具地点\"></el-input>\r\n                        </el-form-item>\r\n                      </el-form>\r\n                      <div slot=\"footer\" class=\"dialog-footer\">\r\n                        <el-button @click=\"dialogFormVisible2 = false\">取消</el-button>\r\n                        <el-button type=\"primary\" @click=\"handleAgree(scope.$index)\">借出</el-button>\r\n                      </div>\r\n                    </el-dialog>\r\n                  </template>\r\n                </el-table-column>\r\n              </el-table>\r\n          </el-card>\r\n        </div>\r\n      </el-main>\r\n      <el-aside width=\"5%\">\r\n      </el-aside>\r\n    </el-container>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport axios from \"axios\";\r\nimport TeacherHeadBar from \"@/components/TeacherHeadBar\";\r\nimport TeacherMenu from \"@/components/TeacherMenu\";\r\nexport default {\r\n  inject: ['reload'],\r\n  components:{TeacherHeadBar,TeacherMenu},\r\n  mounted() {\r\n    this.loadMessage()\r\n  },\r\n  data() {\r\n    return {\r\n      startTime: '',\r\n      endTime: '',\r\n      dialogFormVisible: false,\r\n      dialogFormVisible2: false,\r\n      formData:{\r\n        refuseReason:\"\",\r\n      },\r\n      formAgree:{\r\n        address:\"\",\r\n        getDate: \"\",\r\n      },\r\n      borrowList: [\r\n        {\r\n          toolName: \"\",\r\n          requestUserName:\"\",\r\n          startTime:\"\",\r\n          borrowTime: \"\",\r\n          returnTime: \"\",\r\n          stuid:\"\",\r\n          stuCollege:\"\",\r\n          userId:\"\",\r\n          phoneNumber: \"\",\r\n          purpose: \"\",\r\n          stuEmail: \"\",\r\n          borrowCount: \"\",\r\n        }\r\n      ],\r\n\t  rowStore: null,\r\n    };\r\n  },\r\n  methods: {\r\n    handleCreate(row) {\r\n\t\tthis.rowStore=row\r\n      this.formData = {\r\n        refuseReason: \"\",\r\n      },\r\n      this.dialogFormVisible = true;\r\n    },\r\n    handleCreate2(row) {\r\n\t\tthis.rowStore=row;\r\n      this.formAgree = {\r\n        address:\"工程训练中心南208\",\r\n      },\r\n      this.dialogFormVisible2 = true;\r\n    },\r\n    handleAgree(index) {\r\n\t\tvar row=this.rowStore;\r\n      console.log(index, row);\r\n      axios({\r\n\t\t\t\t\turl: 'http://121.4.160.157/manager/approveBorrowRequest',\r\n\t\t\t\t\tmethod: 'post',\r\n\t\t\t\t\tdata: {\r\n            requestId: row.requestId,\r\n            status: \"Accept\",\r\n            isChangeTime: \"false\",\r\n            changeTime: \"\",\r\n            refuseReason: \"\",\r\n            getDate: this.formAgree.getDate,\r\n            startTime: this.startTime,\r\n            endTime: this.endTime,\r\n            address: this.formAgree.address,\r\n\t\t\t\t\t}\r\n\t\t\t\t}).then((response) => {\r\n\t\t\t\t\tif (response) {\r\n\t\t\t\t\t\tif (response.data.error_code === 0) {\r\n\t\t\t\t\t\t\tconsole.log(\"已同意借用申请\", response.data);\r\n              alert(\"已同意该同学的借用申请，该设备最晚于\" + row.returnTime + \"归还\");\r\n              this.reload()\r\n\t\t\t\t\t\t} else if (response.data.error_code === 5){\r\n              alert(\"该设备数量不足，请拒绝该申请！\");\r\n            }else {\r\n\t\t\t\t\t\t\tconsole.log(\"审批失败\" + response.data);\r\n\t\t\t\t\t\t\talert(\"error: \" + response.data.error_code);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tconsole.log(\"error\" + response.data);\r\n\t\t\t\t\t\talert(\"error\" + response.data.error_code);\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n    },\r\n    handleRefuse(index) {\r\n\t\tvar row=this.rowStore;\r\n      console.log(this.formData.refuseReason);\r\n      axios({\r\n\t\t\t\t\turl: 'http://121.4.160.157/manager/approveBorrowRequest',\r\n\t\t\t\t\tmethod: 'post',\r\n\t\t\t\t\tdata: {\r\n            requestId: row.requestId,\r\n            status: \"Refuse\",\r\n            isChangeTime: \"false\",\r\n            changeTime: null,\r\n            refuseReason: this.formData.refuseReason,\r\n            getDate: \"\",\r\n            startTime: \"\",\r\n            endTime: \"\",\r\n            address: \"\",\r\n\t\t\t\t\t}\r\n\t\t\t\t}).then((response) => {\r\n\t\t\t\t\tif (response) {\r\n            console.log(\"rejectpurpose: \",this.formData.refuseReason);\r\n\t\t\t\t\t\tif (response.data.error_code === 0) {\r\n\t\t\t\t\t\t\tconsole.log(\"已拒绝该申请\", response.data);\r\n              alert(\"已拒绝该申请\");\r\n              this.reload()\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\tconsole.log(\"审批失败\" + response.data);\r\n\t\t\t\t\t\t\talert(\"error: \" + response.data.error_code);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tconsole.log(\"审批失败，请检查网络\" + response.data);\r\n\t\t\t\t\t\talert(\"审批失败，请检查网络\");\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n    },\r\n    loadMessage() {\r\n\t\t\t\tlet that = this;\r\n\t\t\t\taxios({\r\n\t\t\t\t\turl: 'http://121.4.160.157/manager/getToolRequestList',\r\n\t\t\t\t\tmethod: 'post',\r\n\t\t\t\t\tdata: {\r\n\t\t\t\t\t}\r\n\t\t\t\t}).then((response) => {\r\n\t\t\t\t\tif (response) {\r\n\t\t\t\t\t\tif (response.data.error_code === 0) {\r\n\t\t\t\t\t\t\tconsole.log(\"获取成功\", response.data);\r\n              that.borrowList = response.data.dataList;\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\tconsole.log(\"获取失败\" + response.data);\r\n\t\t\t\t\t\t\talert(\"获取失败，请检查网络\");\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tconsole.log(\"获取失败\" + response.data);\r\n\t\t\t\t\t\talert(\"获取失败，请检查网络\");\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t},\r\n  }\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n  .title {\r\n    color: rgb(225, 162, 80);\r\n    margin-bottom: 40px;\r\n    font-family: 微软雅黑;\r\n    word-wrap: break-word;\r\n    font-size: 25px;\r\n    font-weight: bold;\r\n  }\r\n</style>\r\n"]}]}