{"remainingRequest":"/Users/fancy/工具信息平台前后端文件集/Tool_manage_BUAA/前端文件/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/fancy/工具信息平台前后端文件集/Tool_manage_BUAA/前端文件/src/views/teacher_views/ToolRecord.vue?vue&type=style&index=0&id=04b737c1&scoped=true&lang=css&","dependencies":[{"path":"/Users/fancy/工具信息平台前后端文件集/Tool_manage_BUAA/前端文件/src/views/teacher_views/ToolRecord.vue","mtime":1654855369000},{"path":"/Users/fancy/工具信息平台前后端文件集/Tool_manage_BUAA/前端文件/node_modules/css-loader/dist/cjs.js","mtime":1672907904181},{"path":"/Users/fancy/工具信息平台前后端文件集/Tool_manage_BUAA/前端文件/node_modules/vue-loader/lib/loaders/stylePostLoader.js","mtime":1672907904378},{"path":"/Users/fancy/工具信息平台前后端文件集/Tool_manage_BUAA/前端文件/node_modules/postcss-loader/src/index.js","mtime":1672907905400},{"path":"/Users/fancy/工具信息平台前后端文件集/Tool_manage_BUAA/前端文件/node_modules/cache-loader/dist/cjs.js","mtime":1672907908842},{"path":"/Users/fancy/工具信息平台前后端文件集/Tool_manage_BUAA/前端文件/node_modules/vue-loader/lib/index.js","mtime":1672907904287}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgouYm94LWNhcmR7CiAgbWFyZ2luLWxlZnQ6IDEwMHB4Owp9Ci50aXRsZSB7CiAgY29sb3I6IHJnYigyMjUsIDE2MiwgODApOwogIG1hcmdpbi1ib3R0b206IDQwcHg7CiAgZm9udC1mYW1pbHk6IOW+rui9r+mbhem7kTsKICB3b3JkLXdyYXA6IGJyZWFrLXdvcmQ7CiAgLyogdGV4dC1hbGlnbjogbGVmdDsgKi8KICBmb250LXNpemU6IDI1cHg7CiAgZm9udC13ZWlnaHQ6IGJvbGQ7Cn0K"},{"version":3,"sources":["ToolRecord.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAgIA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"ToolRecord.vue","sourceRoot":"src/views/teacher_views","sourcesContent":["<template>\n  <div>\n    <TeacherHeadBar></TeacherHeadBar>\n    <el-container>\n      <el-aside width=\"20%\" style=\"min-height: 600px;\" >\n        <TeacherMenu></TeacherMenu>\n      </el-aside>\n      <el-main width=\"75%\">\n        <div class=\"title\">待归还工具记录表</div>\n        <div style=\"margin: 0 auto; margin-top: 20px; align-items: center;\">\n          <el-card class=\"box-card\" style=\"width: 80%\">\n              <el-table :data=\"tableData\" style=\"width: 100%\" border>\n                <el-table-column align=\"center\" prop=\"toolName\" label=\"工具名称\" min-width=\"120\"></el-table-column>\n                <el-table-column align=\"center\" prop=\"borrowCount\" label=\"借用数量\" min-width=\"110\"></el-table-column>\n                <el-table-column align=\"center\" label=\"借用者信息\" min-width=\"120\">\n                  <template slot-scope=\"scope\">\n                    <el-popover\n                      placement=\"bottom\"\n                      width=\"250\"\n                      trigger=\"click\">\n                      <div>{{ scope.row.requestUserName }} &nbsp &nbsp &nbsp &nbsp {{ scope.row.stuid }}</div>\n                      <div>学院: &nbsp &nbsp &nbsp &nbsp {{ scope.row.stuCollege }}</div>\n                      <div>联系邮箱: &nbsp{{ scope.row.stuEmail }}</div>\n                      <div>联系电话: &nbsp{{ scope.row.phoneNumber }}</div>\n                      <el-button size=\"mini\" slot=\"reference\">{{ scope.row.requestUserName }}</el-button>\n                    </el-popover>\n                  </template>\n                </el-table-column>\n                <el-table-column align=\"center\" prop=\"startTime\" label=\"借用开始时间\" min-width=\"110\"></el-table-column>\n                <el-table-column align=\"center\" prop=\"returnTime\" label=\"最晚归还时间\" min-width=\"110\"> </el-table-column>\n                <el-table-column align=\"center\" label=\"操作\" min-width=\"130\">\n                  <template slot-scope=\"scope\">\n                    <el-button\n                      size=\"mini\"\n                      type=\"primary\"\n                      plain\n                      @click=\"handleConfirm(scope.$index, scope.row)\">确认归还</el-button>\n                  </template>\n                </el-table-column>\n              </el-table>\n          </el-card>\n        </div>\n      </el-main>\n      <el-aside width=\"5%\"></el-aside>\n    </el-container>\n  </div>\n</template>\n\n<script>\nimport axios from \"axios\";\nimport TeacherHeadBar from \"@/components/TeacherHeadBar\";\nimport TeacherMenu from \"@/components/TeacherMenu\";\nexport default {\n  inject: ['reload'],\n  components:{TeacherHeadBar,TeacherMenu},\n  mounted() {\n    this.loadMessage()\n  },\n  data() {\n    return {\n      tableData: [\n        {\n          toolName: \"\",\n          requestUserName:\"\",\n          startTime:\"\",\n          returnTime: \"\",\n          stuid:\"\",\n          stuCollege:\"\",\n          userId:\"\",\n          phoneNumber: \"\",\n          stuEmail:\"\",\n          borrowCount:\"\",\n        }\n      ],\n    };\n  },\n  methods: {\n    handleConfirm(index, row) {\n      console.log(index, row);\n      axios({\n\t\t\t\t\turl: 'http://121.4.160.157/manager/returnTool',\n\t\t\t\t\tmethod: 'post',\n\t\t\t\t\tdata: {\n            requestId: row.requestId,\n\t\t\t\t\t}\n\t\t\t\t}).then((response) => {\n\t\t\t\t\tif (response) {\n\t\t\t\t\t\tif (response.data.error_code === 0) {\n\t\t\t\t\t\t\tconsole.log(\"该设备已归还\", response.data);\n              alert(\"该设备已归还\");\n              this.reload()\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tconsole.log(\"审批失败\" + response.data);\n\t\t\t\t\t\t\talert(\"审批失败，请检查网络\");\n\t\t\t\t\t\t}\n\t\t\t\t\t} else {\n\t\t\t\t\t\tconsole.log(\"error\" + response.data);\n\t\t\t\t\t\talert(\"error\");\n\t\t\t\t\t}\n\t\t\t\t});\n    },\n    loadMessage() {\n\t\t\t\tlet that = this;\n\t\t\t\taxios({\n\t\t\t\t\turl: 'http://121.4.160.157/manager/getAllNeedReturnList',\n\t\t\t\t\tmethod: 'post',\n\t\t\t\t\tdata: {\n\t\t\t\t\t}\n\t\t\t\t}).then((response) => {\n\t\t\t\t\tif (response) {\n\t\t\t\t\t\tif (response.data.error_code === 0) {\n\t\t\t\t\t\t\tconsole.log(\"获取成功\", response.data);\n              that.tableData = response.data.data_list;\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tconsole.log(\"获取失败\" + response.data);\n\t\t\t\t\t\t\talert(\"获取失败，请检查网络\");\n\t\t\t\t\t\t}\n\t\t\t\t\t} else {\n\t\t\t\t\t\tconsole.log(\"获取失败\" + response.data);\n\t\t\t\t\t\talert(\"获取失败，请检查网络\");\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t},\n  }\n};\n</script>\n\n<style scoped>\n  .box-card{\n    margin-left: 100px;\n  }\n  .title {\n    color: rgb(225, 162, 80);\n    margin-bottom: 40px;\n    font-family: 微软雅黑;\n    word-wrap: break-word;\n    /* text-align: left; */\n    font-size: 25px;\n    font-weight: bold;\n  }\n</style>"]}]}