"use strict";(self["webpackChunkf"]=self["webpackChunkf"]||[]).push([[981],{4099:function(e,t,l){l.d(t,{A:function(){return g}});var a=l(285),r=l(9132);const n={class:"x-head"},o={class:"place-content-center",style:{"line-height":"6vh",margin:"0 4vh 0 0"}},s={style:{color:"white"}};function i(e,t,l,i,d,u){const c=(0,a.g2)("el-image"),h=(0,a.g2)("el-icon"),g=(0,a.g2)("el-dropdown-item"),k=(0,a.g2)("el-dropdown-menu"),p=(0,a.g2)("el-dropdown");return(0,a.uX)(),(0,a.CE)("div",n,[(0,a.bF)(c,{onClick:u.toMain,style:{cursor:"pointer",height:"60px","margin-left":"10px","margin-top":"0.5%"},src:d.headerLogo},null,8,["onClick","src"]),t[3]||(t[3]=(0,a.Lk)("div",{style:{margin:"0 auto"}},null,-1)),(0,a.Lk)("div",o,[(0,a.bF)(p,null,{dropdown:(0,a.k6)((()=>[(0,a.bF)(k,null,{default:(0,a.k6)((()=>[(0,a.bF)(g,null,{default:(0,a.k6)((()=>[(0,a.bF)(h,{class:"el-icon-edit"}),(0,a.Lk)("span",{onClick:t[0]||(t[0]=(...e)=>u.changePwd&&u.changePwd(...e)),style:{cursor:"pointer"}},"修改密码")])),_:1}),(0,a.bF)(g,null,{default:(0,a.k6)((()=>[(0,a.bF)(h,{class:"el-icon-edit"}),(0,a.Lk)("span",{onClick:t[1]||(t[1]=(...e)=>u.changeInfo&&u.changeInfo(...e)),style:{cursor:"pointer"}},"个人信息")])),_:1}),(0,a.bF)(g,null,{default:(0,a.k6)((()=>[(0,a.bF)(h,{class:"el-icon-s-fold"}),(0,a.Lk)("span",{onClick:t[2]||(t[2]=(...e)=>u.logout&&u.logout(...e)),style:{cursor:"pointer"}},"退出登录")])),_:1})])),_:1})])),default:(0,a.k6)((()=>[(0,a.Lk)("span",s,(0,r.v_)(this.mail),1)])),_:1})])])}l(9138);var d=l(4794),u={name:"teacherheadbar",data(){return{mail:localStorage.getItem("Mail"),headerLogo:d}},methods:{logout(){this.$router.push("/teacherLogin"),localStorage.setItem("Mail",null),localStorage.setItem("token","wutoken")},changeInfo(){this.$router.push("/teacherChangeInfo")},changePwd(){this.$router.push("/teacherChangePwd")},toMain(){this.$router.push("/borrowProcessing")}}},c=l(4307);const h=(0,c.A)(u,[["render",i],["__scopeId","data-v-7f4a0cb1"]]);var g=h},358:function(e,t,l){l.d(t,{A:function(){return u}});var a=l(285);const r={style:{display:"flex"}},n={style:{"min-width":"200px"}};function o(e,t,l,o,s,i){const d=(0,a.g2)("el-icon"),u=(0,a.g2)("el-menu-item"),c=(0,a.g2)("el-sub-menu"),h=(0,a.g2)("el-menu"),g=(0,a.g2)("router-view");return(0,a.uX)(),(0,a.CE)("div",r,[(0,a.Lk)("div",n,[(0,a.bF)(h,{class:"el-menu-vertical-demo","active-text-color":"#a6dcff",router:""},{default:(0,a.k6)((()=>[(0,a.bF)(c,{index:"1"},{title:(0,a.k6)((()=>[(0,a.bF)(d,{class:"el-icon-s-promotion"}),t[0]||(t[0]=(0,a.eW)("审批管理"))])),default:(0,a.k6)((()=>[this.isSuperUser?((0,a.uX)(),(0,a.Wv)(u,{key:0,index:"/borrowProcessing"},{default:(0,a.k6)((()=>t[1]||(t[1]=[(0,a.Lk)("span",{slot:"title"},"借用审批",-1)]))),_:1})):(0,a.Q3)("",!0),this.isSuperUser?((0,a.uX)(),(0,a.Wv)(u,{key:1,index:"/messageProcessing"},{default:(0,a.k6)((()=>t[2]||(t[2]=[(0,a.Lk)("span",{slot:"title"},"延期审批",-1)]))),_:1})):(0,a.Q3)("",!0),this.isSuperUser?((0,a.uX)(),(0,a.Wv)(u,{key:2,index:"/toolRecord"},{default:(0,a.k6)((()=>t[3]||(t[3]=[(0,a.Lk)("span",{slot:"title"},"归还审批",-1)]))),_:1})):(0,a.Q3)("",!0)])),_:1}),(0,a.bF)(c,{index:"2"},{title:(0,a.k6)((()=>[(0,a.bF)(d,{class:"el-icon-s-order"}),t[4]||(t[4]=(0,a.eW)("用户管理"))])),default:(0,a.k6)((()=>[this.isSuperUser?((0,a.uX)(),(0,a.Wv)(u,{key:0,index:"/addTeacher"},{default:(0,a.k6)((()=>t[5]||(t[5]=[(0,a.Lk)("span",{slot:"title"},"添加教师",-1)]))),_:1})):(0,a.Q3)("",!0),this.isSuperUser?((0,a.uX)(),(0,a.Wv)(u,{key:1,index:"/UserRecord"},{default:(0,a.k6)((()=>t[6]||(t[6]=[(0,a.Lk)("span",{slot:"title"},"学生列表",-1)]))),_:1})):(0,a.Q3)("",!0),this.isSuperUser?((0,a.uX)(),(0,a.Wv)(u,{key:2,index:"/TeacherRecord"},{default:(0,a.k6)((()=>t[7]||(t[7]=[(0,a.Lk)("span",{slot:"title"},"教师列表",-1)]))),_:1})):(0,a.Q3)("",!0),this.isSuperUser?((0,a.uX)(),(0,a.Wv)(u,{key:3,index:"/register_verify"},{default:(0,a.k6)((()=>t[8]||(t[8]=[(0,a.Lk)("span",{slot:"title"},"学生注册",-1)]))),_:1})):(0,a.Q3)("",!0)])),_:1}),(0,a.bF)(c,{index:"3"},{title:(0,a.k6)((()=>[(0,a.bF)(d,{class:"el-icon-setting"}),t[9]||(t[9]=(0,a.eW)("工具管理"))])),default:(0,a.k6)((()=>[this.isSuperUser?((0,a.uX)(),(0,a.Wv)(u,{key:0,index:"/AllToolRecord"},{default:(0,a.k6)((()=>t[10]||(t[10]=[(0,a.Lk)("span",{slot:"title"},"工具列表",-1)]))),_:1})):(0,a.Q3)("",!0),(0,a.bF)(u,{index:"/addtool"},{default:(0,a.k6)((()=>t[11]||(t[11]=[(0,a.Lk)("span",{slot:"title"},"新增工具",-1)]))),_:1}),(0,a.bF)(u,{index:"/settools"},{default:(0,a.k6)((()=>t[12]||(t[12]=[(0,a.Lk)("span",{slot:"title"},"编辑工具",-1)]))),_:1})])),_:1})])),_:1})]),(0,a.Lk)("div",null,[(0,a.bF)(g)])])}var s={name:"teachermenu",mounted(){this.loadIsSuperUser()},data(){return{isSuperUser:!0}},methods:{loadIsSuperUser(){"false"==localStorage.getItem("isSuperUser")&&(this.isSuperUser=!1)}}},i=l(4307);const d=(0,i.A)(s,[["render",o]]);var u=d},981:function(e,t,l){l.r(t),l.d(t,{default:function(){return g}});var a=l(285),r=l(9132);const n={style:{margin:"0 auto","margin-top":"20px","align-items":"center"}};function o(e,t,l,o,s,i){const d=(0,a.g2)("TeacherHeadBar"),u=(0,a.g2)("TeacherMenu"),c=(0,a.g2)("el-aside"),h=(0,a.g2)("el-table-column"),g=(0,a.g2)("el-button"),k=(0,a.g2)("el-popover"),p=(0,a.g2)("el-table"),m=(0,a.g2)("el-card"),b=(0,a.g2)("el-main"),f=(0,a.g2)("el-container");return(0,a.uX)(),(0,a.CE)("div",null,[(0,a.bF)(d),(0,a.bF)(f,null,{default:(0,a.k6)((()=>[(0,a.bF)(c,{width:"20%",style:{"min-height":"600px"}},{default:(0,a.k6)((()=>[(0,a.bF)(u)])),_:1}),(0,a.bF)(b,{width:"75%"},{default:(0,a.k6)((()=>[t[1]||(t[1]=(0,a.Lk)("div",{class:"title"},"待归还工具记录表",-1)),(0,a.Lk)("div",n,[(0,a.bF)(m,{class:"box-card",style:{width:"80%"}},{default:(0,a.k6)((()=>[(0,a.bF)(p,{data:s.tableData,style:{width:"100%"},border:""},{default:(0,a.k6)((()=>[(0,a.bF)(h,{align:"center",prop:"toolName",label:"工具名称","min-width":"120"}),(0,a.bF)(h,{align:"center",prop:"borrowCount",label:"借用数量","min-width":"110"}),(0,a.bF)(h,{align:"center",label:"借用者信息","min-width":"120"},{default:(0,a.k6)((e=>[(0,a.bF)(k,{trigger:"click",placement:"bottom",width:"250"},{default:(0,a.k6)((()=>[(0,a.Lk)("div",null,(0,r.v_)(e.row.requestUserName)+"       "+(0,r.v_)(e.row.stuid),1),(0,a.Lk)("div",null,"学院:         "+(0,r.v_)(e.row.stuCollege),1),(0,a.Lk)("div",null,"联系邮箱:  "+(0,r.v_)(e.row.stuEmail),1),(0,a.Lk)("div",null,"联系电话:  "+(0,r.v_)(e.row.phoneNumber),1)])),reference:(0,a.k6)((()=>[(0,a.bF)(g,{size:"mini",slot:"reference"},{default:(0,a.k6)((()=>[(0,a.eW)((0,r.v_)(e.row.requestUserName),1)])),_:2},1024)])),_:2},1024)])),_:1}),(0,a.bF)(h,{align:"center",prop:"startTime",label:"借用开始时间","min-width":"110"}),(0,a.bF)(h,{align:"center",prop:"returnTime",label:"最晚归还时间","min-width":"110"}),(0,a.bF)(h,{align:"center",label:"操作","min-width":"130"},{default:(0,a.k6)((e=>[(0,a.bF)(g,{size:"mini",type:"primary",plain:"",onClick:t=>i.handleConfirm(e.$index,e.row)},{default:(0,a.k6)((()=>t[0]||(t[0]=[(0,a.eW)("确认归还")]))),_:2},1032,["onClick"])])),_:1})])),_:1},8,["data"])])),_:1})])])),_:1}),(0,a.bF)(c,{width:"5%"})])),_:1})])}var s=l(7164),i=l(4099),d=l(358),u={inject:["reload"],components:{TeacherHeadBar:i.A,TeacherMenu:d.A},mounted(){this.loadMessage()},data(){return{tableData:[{toolName:"",requestUserName:"",startTime:"",returnTime:"",stuid:"",stuCollege:"",userId:"",phoneNumber:"",stuEmail:"",borrowCount:""}]}},methods:{handleConfirm(e,t){console.log(e,t),(0,s.A)({url:"manager/returnTool",method:"post",data:{requestId:t.requestId}}).then((e=>{e?0===e.data.error_code?(console.log("该设备已归还",e.data),alert("该设备已归还"),this.reload()):(console.log("审批失败"+e.data),alert("审批失败，请检查网络")):(console.log("error"+e.data),alert("error"))}))},loadMessage(){let e=this;(0,s.A)({url:"manager/getAllNeedReturnList",method:"post",data:{}}).then((t=>{t&&0===t.data.error_code?(console.log("获取成功",t.data),e.tableData=t.data.data_list):(console.log("获取失败"+t.data),alert("获取失败，请检查网络"))}))}}},c=l(4307);const h=(0,c.A)(u,[["render",o],["__scopeId","data-v-0758d902"]]);var g=h},4794:function(e,t,l){e.exports=l.p+"img/headerLogo.d1c84d2a.png"}}]);
//# sourceMappingURL=981.819f990e.js.map